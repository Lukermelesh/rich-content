(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{433:function(t,e,n){"use strict";n.r(e),n.d(e,"RichContentEditor",(function(){return Wn})),n.d(e,"RichContentEditorModal",(function(){return Qn})),n.d(e,"convertFromRaw",(function(){return tr})),n.d(e,"convertToRaw",(function(){return $n})),n.d(e,"createEmpty",(function(){return er})),n.d(e,"createWithContent",(function(){return nr}));var r=n(0),o=n.n(r),i=n(204),a=n(165),u=n.n(a);n.d(e,"EditorState",(function(){return a.EditorState}));var s=n(176),l=n(35),c=n.n(l),f=n(190),p=n(210),h=n(168),d=n.n(h),v=n(8),g=n.n(v),y=n(231),m=n(230),_=n(215),b=n.n(_);n(228);function S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E(t,e){return t(e={exports:{}},e.exports),e.exports}var w=E((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.apply(this,arguments)}t.exports=e})),k=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},T=E((function(t){!function(e){var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",s=e.regeneratorRuntime;if(s)t.exports=s;else{(s=e.regeneratorRuntime=t.exports).wrap=d;var l={},c={};c[i]=function(){return this};var f=Object.getPrototypeOf,p=f&&f(f(T([])));p&&p!==n&&r.call(p,i)&&(c=p);var h=m.prototype=g.prototype=Object.create(c);y.prototype=h.constructor=m,m.constructor=y,m[u]=y.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(h),t},s.awrap=function(t){return{__await:t}},_(b.prototype),b.prototype[a]=function(){return this},s.AsyncIterator=b,s.async=function(t,e,n,r){var o=new b(d(t,e,n,r));return s.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},_(h),h[u]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},s.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},s.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}}}function d(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=v(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function g(){}function y(){}function m(){}function _(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function b(t){var e;this._invoke=function(n,o){function i(){return new Promise((function(e,i){!function e(n,o,i,a){var u=v(t[n],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):Promise.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return e("throw",t,i,a)}))}a(u.arg)}(n,o,e,i)}))}return e=e?e.then(i,i):i()}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=v(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())})),O=function(){return this||"object"==typeof self&&self}()||Function("return this")(),x=O.regeneratorRuntime&&Object.getOwnPropertyNames(O).indexOf("regeneratorRuntime")>=0,C=x&&O.regeneratorRuntime;O.regeneratorRuntime=void 0;var M=T;if(x)O.regeneratorRuntime=C;else try{delete O.regeneratorRuntime}catch(rr){O.regeneratorRuntime=void 0}var B=M;function I(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(l){return void n(l)}u.done?e(s):Promise.resolve(s).then(r,o)}var A=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){I(i,r,o,a,u,"next",t)}function u(t){I(i,r,o,a,u,"throw",t)}a(void 0)}))}},D=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return u.a.EditorState.createWithContent(u.a.ContentState.createFromText(t))}}));S(D);var P=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1];return function(){for(var t=r.apply(void 0,arguments),n=e.length-2;n>=0;n-=1){var o=e[n];t=o(t)}return t}}}));S(P);var z=E((function(t,e){t.exports=function(){var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function n(t){return a(t)?t:N(t)}function r(t){return u(t)?t:q(t)}function o(t){return s(t)?t:V(t)}function i(t){return a(t)&&!l(t)?t:U(t)}function a(t){return!(!t||!t[f])}function u(t){return!(!t||!t[p])}function s(t){return!(!t||!t[h])}function l(t){return u(t)||s(t)}function c(t){return!(!t||!t[d])}e(r,n),e(o,n),e(i,n),n.isIterable=a,n.isKeyed=u,n.isIndexed=s,n.isAssociative=l,n.isOrdered=c,n.Keyed=r,n.Indexed=o,n.Set=i;var f="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",v={},g={value:!1},y={value:!1};function m(t){return t.value=!1,t}function _(t){t&&(t.value=!0)}function b(){}function S(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function E(t){return void 0===t.size&&(t.size=t.__iterate(k)),t.size}function w(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?E(t)+e:e}function k(){return!0}function T(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function O(t,e){return C(t,e,0)}function x(t,e){return C(t,e,e)}function C(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var M,B,I,A="function"==typeof Symbol&&Symbol.iterator,D=A||"@@iterator";function P(t){this.next=t}function z(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function L(){return{value:void 0,done:!0}}function R(t){return!!F(t)}function j(t){return t&&"function"==typeof t.next}function K(t){var e=F(t);return e&&e.call(t)}function F(t){var e=t&&(A&&t[A]||t["@@iterator"]);if("function"==typeof e)return e}function H(t){return t&&"number"==typeof t.length}function N(t){return null==t?Q():a(t)?t.toSeq():function(t){var e=tt(t)||"object"==typeof t&&new G(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function q(t){return null==t?Q().toKeyedSeq():a(t)?u(t)?t.toSeq():t.fromEntrySeq():Z(t)}function V(t){return null==t?Q():a(t)?u(t)?t.entrySeq():t.toIndexedSeq():$(t)}function U(t){return(null==t?Q():a(t)?u(t)?t.entrySeq():t:$(t)).toSetSeq()}function W(t){this._array=t,this.size=t.length}function G(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function J(t){this._iterable=t,this.size=t.length||t.size}function X(t){this._iterator=t,this._iteratorCache=[]}function Y(t){return!(!t||!t["@@__IMMUTABLE_SEQ__@@"])}function Q(){return M||(M=new W([]))}function Z(t){var e=Array.isArray(t)?new W(t).fromEntrySeq():j(t)?new X(t).fromEntrySeq():R(t)?new J(t).fromEntrySeq():"object"==typeof t?new G(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function $(t){var e=tt(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function tt(t){return H(t)?new W(t):j(t)?new X(t):R(t)?new J(t):void 0}function et(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var u=o[n?i-a:a];if(!1===e(u[1],r?u[0]:a,t))return a+1}return a}return t.__iterateUncached(e,n)}function nt(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,a=0;return new P((function(){var t=o[n?i-a:a];return a++>i?{value:void 0,done:!0}:z(e,r?t[0]:a-1,t[1])}))}return t.__iteratorUncached(e,n)}function rt(t,e){return e?function t(e,n,r,o){return Array.isArray(n)?e.call(o,r,V(n).map((function(r,o){return t(e,r,o,n)}))):it(n)?e.call(o,r,q(n).map((function(r,o){return t(e,r,o,n)}))):n}(e,t,"",{"":t}):ot(t)}function ot(t){return Array.isArray(t)?V(t).map(ot).toList():it(t)?q(t).map(ot).toMap():t}function it(t){return t&&(t.constructor===Object||void 0===t.constructor)}function at(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function ut(t,e){if(t===e)return!0;if(!a(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||u(t)!==u(e)||s(t)!==s(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!l(t);if(c(t)){var r=t.entries();return e.every((function(t,e){var o=r.next().value;return o&&at(o[1],t)&&(n||at(o[0],e))}))&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var i=t;t=e,e=i}var f=!0,p=e.__iterate((function(e,r){if(n?!t.has(e):o?!at(e,t.get(r,v)):!at(t.get(r,v),e))return f=!1,!1}));return f&&t.size===p}function st(t,e){if(!(this instanceof st))return new st(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(B)return B;B=this}}function lt(t,e){if(!t)throw new Error(e)}function ct(t,e,n){if(!(this instanceof ct))return new ct(t,e,n);if(lt(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(I)return I;I=this}}function ft(){throw TypeError("Abstract")}function pt(){}function ht(){}function dt(){}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=0,P.VALUES=1,P.ENTRIES=2,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[D]=function(){return this},e(N,n),N.of=function(){return N(arguments)},N.prototype.toSeq=function(){return this},N.prototype.toString=function(){return this.__toString("Seq {","}")},N.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},N.prototype.__iterate=function(t,e){return et(this,t,e,!0)},N.prototype.__iterator=function(t,e){return nt(this,t,e,!0)},e(q,N),q.prototype.toKeyedSeq=function(){return this},e(V,N),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(t,e){return et(this,t,e,!1)},V.prototype.__iterator=function(t,e){return nt(this,t,e,!1)},e(U,N),U.of=function(){return U(arguments)},U.prototype.toSetSeq=function(){return this},N.isSeq=Y,N.Keyed=q,N.Set=U,N.Indexed=V,N.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,e(W,V),W.prototype.get=function(t,e){return this.has(t)?this._array[w(this,t)]:e},W.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},W.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new P((function(){return o>r?{value:void 0,done:!0}:z(t,o,n[e?r-o++:o++])}))},e(G,q),G.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},G.prototype.has=function(t){return this._object.hasOwnProperty(t)},G.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[e?o-i:i];if(!1===t(n[a],a,this))return i+1}return i},G.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new P((function(){var a=r[e?o-i:i];return i++>o?{value:void 0,done:!0}:z(t,a,n[a])}))},G.prototype[d]=!0,e(J,V),J.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=K(this._iterable),r=0;if(j(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},J.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=K(this._iterable);if(!j(n))return new P(L);var r=0;return new P((function(){var e=n.next();return e.done?e:z(t,r++,e.value)}))},e(X,V),X.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===t(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===t(a,i++,this))break}return i},X.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new P((function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return z(t,o,r[o++])}))},e(st,V),st.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},st.prototype.get=function(t,e){return this.has(t)?this._value:e},st.prototype.includes=function(t){return at(this._value,t)},st.prototype.slice=function(t,e){var n=this.size;return T(t,e,n)?this:new st(this._value,x(e,n)-O(t,n))},st.prototype.reverse=function(){return this},st.prototype.indexOf=function(t){return at(this._value,t)?0:-1},st.prototype.lastIndexOf=function(t){return at(this._value,t)?this.size:-1},st.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},st.prototype.__iterator=function(t,e){var n=this,r=0;return new P((function(){return r<n.size?z(t,r++,n._value):{value:void 0,done:!0}}))},st.prototype.equals=function(t){return t instanceof st?at(this._value,t._value):ut(t)},e(ct,V),ct.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ct.prototype.get=function(t,e){return this.has(t)?this._start+w(this,t)*this._step:e},ct.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},ct.prototype.slice=function(t,e){return T(t,e,this.size)?this:(t=O(t,this.size),(e=x(e,this.size))<=t?new ct(0,0):new ct(this.get(t,this._end),this.get(e,this._end),this._step))},ct.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},ct.prototype.lastIndexOf=function(t){return this.indexOf(t)},ct.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},ct.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new P((function(){var a=o;return o+=e?-r:r,i>n?{value:void 0,done:!0}:z(t,i++,a)}))},ct.prototype.equals=function(t){return t instanceof ct?this._start===t._start&&this._end===t._end&&this._step===t._step:ut(this,t)},e(ft,n),e(pt,ft),e(ht,ft),e(dt,ft),ft.Keyed=pt,ft.Indexed=ht,ft.Set=dt;var vt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function gt(t){return t>>>1&1073741824|3221225471&t}function yt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)n^=t/=4294967295;return gt(n)}if("string"===e)return t.length>Tt?function(t){var e=Ct[t];return void 0===e&&(e=mt(t),xt===Ot&&(xt=0,Ct={}),xt++,Ct[t]=e),e}(t):mt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(Et&&void 0!==(e=_t.get(t)))return e;if(void 0!==(e=t[kt]))return e;if(!St){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[kt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++wt,1073741824&wt&&(wt=0),Et)_t.set(t,e);else{if(void 0!==bt&&!1===bt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(St)Object.defineProperty(t,kt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[kt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[kt]=e}}return e}(t);if("function"==typeof t.toString)return mt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function mt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return gt(e)}var _t,bt=Object.isExtensible,St=function(){try{return Object.defineProperty({},"@",{}),!0}catch(rr){return!1}}(),Et="function"==typeof WeakMap;Et&&(_t=new WeakMap);var wt=0,kt="__immutablehash__";"function"==typeof Symbol&&(kt=Symbol(kt));var Tt=16,Ot=255,xt=0,Ct={};function Mt(t){lt(t!==1/0,"Cannot perform this action with an infinite size.")}function Bt(t){return null==t?Vt():It(t)&&!c(t)?t:Vt().withMutations((function(e){var n=r(t);Mt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function It(t){return!(!t||!t[Dt])}e(Bt,pt),Bt.prototype.toString=function(){return this.__toString("Map {","}")},Bt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Bt.prototype.set=function(t,e){return Ut(this,t,e)},Bt.prototype.setIn=function(t,e){return this.updateIn(t,v,(function(){return e}))},Bt.prototype.remove=function(t){return Ut(this,t,v)},Bt.prototype.deleteIn=function(t){return this.updateIn(t,(function(){return v}))},Bt.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},Bt.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=function t(e,n,r,o){var i=e===v,a=n.next();if(a.done){var u=i?r:e,s=o(u);return s===u?e:s}lt(i||e&&e.set,"invalid keyPath");var l=a.value,c=i?v:e.get(l,v),f=t(c,n,r,o);return f===c?e:f===v?e.remove(l):(i?Vt():e).set(l,f)}(this,Xe(t),e,n);return r===v?void 0:r},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},Bt.prototype.merge=function(){return Xt(this,void 0,arguments)},Bt.prototype.mergeWith=function(e){var n=t.call(arguments,1);return Xt(this,e,n)},Bt.prototype.mergeIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"==typeof t.merge?t.merge.apply(t,n):n[n.length-1]}))},Bt.prototype.mergeDeep=function(){return Xt(this,Yt,arguments)},Bt.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return Xt(this,Qt(e),n)},Bt.prototype.mergeDeepIn=function(e){var n=t.call(arguments,1);return this.updateIn(e,Vt(),(function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,n):n[n.length-1]}))},Bt.prototype.sort=function(t){return Se(je(this,t))},Bt.prototype.sortBy=function(t,e){return Se(je(this,e,t))},Bt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Bt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new b)},Bt.prototype.asImmutable=function(){return this.__ensureOwner()},Bt.prototype.wasAltered=function(){return this.__altered},Bt.prototype.__iterator=function(t,e){return new Ft(this,t,e)},Bt.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},Bt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?qt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Bt.isMap=It;var At,Dt="@@__IMMUTABLE_MAP__@@",Pt=Bt.prototype;function zt(t,e){this.ownerID=t,this.entries=e}function Lt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function Rt(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function jt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function Kt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function Ft(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Nt(t._root)}function Ht(t,e){return z(t,e[0],e[1])}function Nt(t,e){return{node:t,index:0,__prev:e}}function qt(t,e,n,r){var o=Object.create(Pt);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Vt(){return At||(At=qt(0))}function Ut(t,e,n){var r,o;if(t._root){var i=m(g),a=m(y);if(r=Wt(t._root,t.__ownerID,0,void 0,e,n,i,a),!a.value)return t;o=t.size+(i.value?n===v?-1:1:0)}else{if(n===v)return t;o=1,r=new zt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?qt(o,r):Vt()}function Wt(t,e,n,r,o,i,a,u){return t?t.update(e,n,r,o,i,a,u):i===v?t:(_(u),_(a),new Kt(e,r,[o,i]))}function Gt(t){return t.constructor===Kt||t.constructor===jt}function Jt(t,e,n,r,o){if(t.keyHash===r)return new jt(e,r,[t.entry,o]);var i,a=31&(0===n?t.keyHash:t.keyHash>>>n),u=31&(0===n?r:r>>>n);return new Lt(e,1<<a|1<<u,a===u?[Jt(t,e,n+5,r,o)]:(i=new Kt(e,r,o),a<u?[t,i]:[i,t]))}function Xt(t,e,n){for(var o=[],i=0;i<n.length;i++){var u=n[i],s=r(u);a(u)||(s=s.map((function(t){return rt(t)}))),o.push(s)}return Zt(t,e,o)}function Yt(t,e,n){return t&&t.mergeDeep&&a(e)?t.mergeDeep(e):at(t,e)?t:e}function Qt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&a(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return at(e,o)?e:o}}function Zt(t,e,n){return 0===(n=n.filter((function(t){return 0!==t.size}))).length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations((function(t){for(var r=e?function(n,r){t.update(r,v,(function(t){return t===v?n:e(t,n,r)}))}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)})):t.constructor(n[0])}function $t(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,127&(t+=t>>8)+(t>>16)}function te(t,e,n,r){var o=r?t:S(t);return o[e]=n,o}Pt[Dt]=!0,Pt.delete=Pt.remove,Pt.removeIn=Pt.deleteIn,zt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(at(n,o[i][0]))return o[i][1];return r},zt.prototype.update=function(t,e,n,r,o,i,a){for(var u=o===v,s=this.entries,l=0,c=s.length;l<c&&!at(r,s[l][0]);l++);var f=l<c;if(f?s[l][1]===o:u)return this;if(_(a),(u||!f)&&_(i),!u||1!==s.length){if(!f&&!u&&s.length>=ee)return function(t,e,n,r){t||(t=new b);for(var o=new Kt(t,yt(n),[n,r]),i=0;i<e.length;i++){var a=e[i];o=o.update(t,0,void 0,a[0],a[1])}return o}(t,s,r,o);var p=t&&t===this.ownerID,h=p?s:S(s);return f?u?l===c-1?h.pop():h[l]=h.pop():h[l]=[r,o]:h.push([r,o]),p?(this.entries=h,this):new zt(t,h)}},Lt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var o=1<<(31&(0===t?e:e>>>t)),i=this.bitmap;return 0==(i&o)?r:this.nodes[$t(i&o-1)].get(t+5,e,n,r)},Lt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var u=31&(0===e?n:n>>>e),s=1<<u,l=this.bitmap,c=0!=(l&s);if(!c&&o===v)return this;var f=$t(l&s-1),p=this.nodes,h=c?p[f]:void 0,d=Wt(h,t,e+5,n,r,o,i,a);if(d===h)return this;if(!c&&d&&p.length>=ne)return function(t,e,n,r,o){for(var i=0,a=new Array(32),u=0;0!==n;u++,n>>>=1)a[u]=1&n?e[i++]:void 0;return a[r]=o,new Rt(t,i+1,a)}(t,p,l,u,d);if(c&&!d&&2===p.length&&Gt(p[1^f]))return p[1^f];if(c&&d&&1===p.length&&Gt(d))return d;var g=t&&t===this.ownerID,y=c?d?l:l^s:l|s,m=c?d?te(p,f,d,g):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(p,f,g):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,u=0;u<o;u++)u===e?(i[u]=n,a=-1):i[u]=t[u+a];return i}(p,f,d,g);return g?(this.bitmap=y,this.nodes=m,this):new Lt(t,y,m)},Rt.prototype.get=function(t,e,n,r){void 0===e&&(e=yt(n));var o=31&(0===t?e:e>>>t),i=this.nodes[o];return i?i.get(t+5,e,n,r):r},Rt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var u=31&(0===e?n:n>>>e),s=o===v,l=this.nodes,c=l[u];if(s&&!c)return this;var f=Wt(c,t,e+5,n,r,o,i,a);if(f===c)return this;var p=this.count;if(c){if(!f&&--p<re)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),u=0,s=1,l=e.length;u<l;u++,s<<=1){var c=e[u];void 0!==c&&u!==r&&(o|=s,a[i++]=c)}return new Lt(t,o,a)}(t,l,p,u)}else p++;var h=t&&t===this.ownerID,d=te(l,u,f,h);return h?(this.count=p,this.nodes=d,this):new Rt(t,p,d)},jt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(at(n,o[i][0]))return o[i][1];return r},jt.prototype.update=function(t,e,n,r,o,i,a){void 0===n&&(n=yt(r));var u=o===v;if(n!==this.keyHash)return u?this:(_(a),_(i),Jt(this,t,e,n,[r,o]));for(var s=this.entries,l=0,c=s.length;l<c&&!at(r,s[l][0]);l++);var f=l<c;if(f?s[l][1]===o:u)return this;if(_(a),(u||!f)&&_(i),u&&2===c)return new Kt(t,this.keyHash,s[1^l]);var p=t&&t===this.ownerID,h=p?s:S(s);return f?u?l===c-1?h.pop():h[l]=h.pop():h[l]=[r,o]:h.push([r,o]),p?(this.entries=h,this):new jt(t,this.keyHash,h)},Kt.prototype.get=function(t,e,n,r){return at(n,this.entry[0])?this.entry[1]:r},Kt.prototype.update=function(t,e,n,r,o,i,a){var u=o===v,s=at(r,this.entry[0]);return(s?o===this.entry[1]:u)?this:(_(a),u?void _(i):s?t&&t===this.ownerID?(this.entry[1]=o,this):new Kt(t,this.keyHash,[r,o]):(_(i),Jt(this,t,e,yt(r),[r,o])))},zt.prototype.iterate=jt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},Lt.prototype.iterate=Rt.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Kt.prototype.iterate=function(t,e){return t(this.entry)},e(Ft,P),Ft.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return Ht(t,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return Ht(t,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return Ht(t,i.entry);e=this._stack=Nt(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ee=8,ne=16,re=8;function oe(t){var e=de();if(null==t)return e;if(ie(t))return t;var n=o(t),r=n.size;return 0===r?e:(Mt(r),r>0&&r<32?he(0,r,5,null,new se(n.toArray())):e.withMutations((function(t){t.setSize(r),n.forEach((function(e,n){return t.set(n,e)}))})))}function ie(t){return!(!t||!t[ae])}e(oe,ht),oe.of=function(){return this(arguments)},oe.prototype.toString=function(){return this.__toString("List [","]")},oe.prototype.get=function(t,e){if((t=w(this,t))>=0&&t<this.size){var n=ye(this,t+=this._origin);return n&&n.array[31&t]}return e},oe.prototype.set=function(t,e){return function(t,e,n){if((e=w(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?me(t,e).set(0,n):me(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,o=t._root,i=m(y);return e>=be(t._capacity)?r=ve(r,t.__ownerID,0,e,n,i):o=ve(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):he(t._origin,t._capacity,t._level,o,r):t}(this,t,e)},oe.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},oe.prototype.insert=function(t,e){return this.splice(t,0,e)},oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):de()},oe.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){me(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},oe.prototype.pop=function(){return me(this,0,-1)},oe.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){me(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},oe.prototype.shift=function(){return me(this,1)},oe.prototype.merge=function(){return _e(this,void 0,arguments)},oe.prototype.mergeWith=function(e){var n=t.call(arguments,1);return _e(this,e,n)},oe.prototype.mergeDeep=function(){return _e(this,Yt,arguments)},oe.prototype.mergeDeepWith=function(e){var n=t.call(arguments,1);return _e(this,Qt(e),n)},oe.prototype.setSize=function(t){return me(this,0,t)},oe.prototype.slice=function(t,e){var n=this.size;return T(t,e,n)?this:me(this,O(t,n),x(e,n))},oe.prototype.__iterator=function(t,e){var n=0,r=pe(this,e);return new P((function(){var e=r();return e===fe?{value:void 0,done:!0}:z(t,n++,e)}))},oe.prototype.__iterate=function(t,e){for(var n,r=0,o=pe(this,e);(n=o())!==fe&&!1!==t(n,r++,this););return r},oe.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?he(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},oe.isList=ie;var ae="@@__IMMUTABLE_LIST__@@",ue=oe.prototype;function se(t,e){this.array=t,this.ownerID=e}ue[ae]=!0,ue.delete=ue.remove,ue.setIn=Pt.setIn,ue.deleteIn=ue.removeIn=Pt.removeIn,ue.update=Pt.update,ue.updateIn=Pt.updateIn,ue.mergeIn=Pt.mergeIn,ue.mergeDeepIn=Pt.mergeDeepIn,ue.withMutations=Pt.withMutations,ue.asMutable=Pt.asMutable,ue.asImmutable=Pt.asImmutable,ue.wasAltered=Pt.wasAltered,se.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new se([],t);var o,i=0===r;if(e>0){var a=this.array[r];if((o=a&&a.removeBefore(t,e-5,n))===a&&i)return this}if(i&&!o)return this;var u=ge(this,t);if(!i)for(var s=0;s<r;s++)u.array[s]=void 0;return o&&(u.array[r]=o),u},se.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&31;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-5,n))===i&&o===this.array.length-1)return this}var a=ge(this,t);return a.array.splice(o+1),r&&(a.array[o]=r),a};var le,ce,fe={};function pe(t,e){var n=t._origin,r=t._capacity,o=be(r),i=t._tail;return function t(a,u,s){return 0===u?function(t,a){var u=a===o?i&&i.array:t&&t.array,s=a>n?0:n-a,l=r-a;return l>32&&(l=32),function(){if(s===l)return fe;var t=e?--l:s++;return u&&u[t]}}(a,s):function(o,i,a){var u,s=o&&o.array,l=a>n?0:n-a>>i,c=1+(r-a>>i);return c>32&&(c=32),function(){for(;;){if(u){var n=u();if(n!==fe)return n;u=null}if(l===c)return fe;var r=e?--c:l++;u=t(s&&s[r],i-5,a+(r<<i))}}}(a,u,s)}(t._root,t._level,0)}function he(t,e,n,r,o,i,a){var u=Object.create(ue);return u.size=e-t,u._origin=t,u._capacity=e,u._level=n,u._root=r,u._tail=o,u.__ownerID=i,u.__hash=a,u.__altered=!1,u}function de(){return le||(le=he(0,0,5))}function ve(t,e,n,r,o,i){var a,u=r>>>n&31,s=t&&u<t.array.length;if(!s&&void 0===o)return t;if(n>0){var l=t&&t.array[u],c=ve(l,e,n-5,r,o,i);return c===l?t:((a=ge(t,e)).array[u]=c,a)}return s&&t.array[u]===o?t:(_(i),a=ge(t,e),void 0===o&&u===a.array.length-1?a.array.pop():a.array[u]=o,a)}function ge(t,e){return e&&t&&e===t.ownerID?t:new se(t?t.array.slice():[],e)}function ye(t,e){if(e>=be(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function me(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new b,o=t._origin,i=t._capacity,a=o+e,u=void 0===n?i:n<0?i+n:o+n;if(a===o&&u===i)return t;if(a>=u)return t.clear();for(var s=t._level,l=t._root,c=0;a+c<0;)l=new se(l&&l.array.length?[void 0,l]:[],r),c+=1<<(s+=5);c&&(a+=c,o+=c,u+=c,i+=c);for(var f=be(i),p=be(u);p>=1<<s+5;)l=new se(l&&l.array.length?[l]:[],r),s+=5;var h=t._tail,d=p<f?ye(t,u-1):p>f?new se([],r):h;if(h&&p>f&&a<i&&h.array.length){for(var v=l=ge(l,r),g=s;g>5;g-=5){var y=f>>>g&31;v=v.array[y]=ge(v.array[y],r)}v.array[f>>>5&31]=h}if(u<i&&(d=d&&d.removeAfter(r,0,u)),a>=p)a-=p,u-=p,s=5,l=null,d=d&&d.removeBefore(r,0,a);else if(a>o||p<f){for(c=0;l;){var m=a>>>s&31;if(m!==p>>>s&31)break;m&&(c+=(1<<s)*m),s-=5,l=l.array[m]}l&&a>o&&(l=l.removeBefore(r,s,a-c)),l&&p<f&&(l=l.removeAfter(r,s,p-c)),c&&(a-=c,u-=c)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=s,t._root=l,t._tail=d,t.__hash=void 0,t.__altered=!0,t):he(a,u,s,l,d)}function _e(t,e,n){for(var r=[],i=0,u=0;u<n.length;u++){var s=n[u],l=o(s);l.size>i&&(i=l.size),a(s)||(l=l.map((function(t){return rt(t)}))),r.push(l)}return i>t.size&&(t=t.setSize(i)),Zt(t,e,r)}function be(t){return t<32?0:t-1>>>5<<5}function Se(t){return null==t?ke():Ee(t)?t:ke().withMutations((function(e){var n=r(t);Mt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}function Ee(t){return It(t)&&c(t)}function we(t,e,n,r){var o=Object.create(Se.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function ke(){return ce||(ce=we(Vt(),de()))}function Te(t,e,n){var r,o,i=t._map,a=t._list,u=i.get(e),s=void 0!==u;if(n===v){if(!s)return t;a.size>=32&&a.size>=2*i.size?(r=(o=a.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=u===a.size-1?a.pop():a.set(u,void 0))}else if(s){if(n===a.get(u)[1])return t;r=i,o=a.set(u,[e,n])}else r=i.set(e,a.size),o=a.set(a.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):we(r,o)}function Oe(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function xe(t){this._iter=t,this.size=t.size}function Ce(t){this._iter=t,this.size=t.size}function Me(t){this._iter=t,this.size=t.size}function Be(t){var e=We(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ge,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new P((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Ie(t,e,n){var r=We(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,v);return i===v?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate((function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(2,o);return new P((function(){var o=i.next();if(o.done)return o;var a=o.value,u=a[0];return z(r,u,e.call(n,a[1],u,t),o)}))},r}function Ae(t,e){var n=We(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=Be(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Ge,n.__iterate=function(e,n){var r=this;return t.__iterate((function(t,n){return e(t,n,r)}),!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function De(t,e,n,r){var o=We(t);return r&&(o.has=function(r){var o=t.get(r,v);return o!==v&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,v);return i!==v&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var a=this,u=0;return t.__iterate((function(t,i,s){if(e.call(n,t,i,s))return u++,o(t,r?i:u-1,a)}),i),u},o.__iteratorUncached=function(o,i){var a=t.__iterator(2,i),u=0;return new P((function(){for(;;){var i=a.next();if(i.done)return i;var s=i.value,l=s[0],c=s[1];if(e.call(n,c,l,t))return z(o,r?l:u++,c,i)}}))},o}function Pe(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),T(e,n,o))return t;var i=O(e,o),a=x(n,o);if(i!=i||a!=a)return Pe(t.toSeq().cacheResult(),e,n,r);var u,s=a-i;s==s&&(u=s<0?0:s);var l=We(t);return l.size=0===u?u:t.size&&u||void 0,!r&&Y(t)&&u>=0&&(l.get=function(e,n){return(e=w(this,e))>=0&&e<u?t.get(e+i,n):n}),l.__iterateUncached=function(e,n){var o=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,s=!0,l=0;return t.__iterate((function(t,n){if(!s||!(s=a++<i))return l++,!1!==e(t,r?n:l-1,o)&&l!==u})),l},l.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);var o=0!==u&&t.__iterator(e,n),a=0,s=0;return new P((function(){for(;a++<i;)o.next();if(++s>u)return{value:void 0,done:!0};var t=o.next();return r||1===e?t:z(e,s-1,0===e?void 0:t.value[1],t)}))},l}function ze(t,e,n,r){var o=We(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var u=!0,s=0;return t.__iterate((function(t,i,l){if(!u||!(u=e.call(n,t,i,l)))return s++,o(t,r?i:s-1,a)})),s},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var u=t.__iterator(2,i),s=!0,l=0;return new P((function(){var t,i,c;do{if((t=u.next()).done)return r||1===o?t:z(o,l++,0===o?void 0:t.value[1],t);var f=t.value;i=f[0],c=f[1],s&&(s=e.call(n,c,i,a))}while(s);return 2===o?t:z(o,i,c,t)}))},o}function Le(t,e){var n=u(t),o=[t].concat(e).map((function(t){return a(t)?n&&(t=r(t)):t=n?Z(t):$(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===o.length)return t;if(1===o.length){var i=o[0];if(i===t||n&&u(i)||s(t)&&s(i))return i}var l=new W(o);return n?l=l.toKeyedSeq():s(t)||(l=l.toSetSeq()),(l=l.flatten(!0)).size=o.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),l}function Re(t,e,n){var r=We(t);return r.__iterateUncached=function(r,o){var i=0,u=!1;return function t(s,l){var c=this;s.__iterate((function(o,s){return(!e||l<e)&&a(o)?t(o,l+1):!1===r(o,n?s:i++,c)&&(u=!0),!u}),o)}(t,0),i},r.__iteratorUncached=function(r,o){var i=t.__iterator(r,o),u=[],s=0;return new P((function(){for(;i;){var t=i.next();if(!1===t.done){var l=t.value;if(2===r&&(l=l[1]),e&&!(u.length<e)||!a(l))return n?t:z(r,s++,l,t);u.push(i),i=l.__iterator(r,o)}else i=u.pop()}return{value:void 0,done:!0}}))},r}function je(t,e,n){e||(e=Je);var r=u(t),o=0,i=t.toSeq().map((function(e,r){return[r,e,o++,n?n(e,r,t):e]})).toArray();return i.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?q(i):s(t)?V(i):U(i)}function Ke(t,e,n){if(e||(e=Je),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return Fe(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return Fe(e,t,n)?n:t}))}function Fe(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function He(t,e,r){var o=We(t);return o.size=new W(r).map((function(t){return t.size})).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map((function(t){return t=n(t),K(o?t.reverse():t)})),a=0,u=!1;return new P((function(){var n;return u||(n=i.map((function(t){return t.next()})),u=n.some((function(t){return t.done}))),u?{value:void 0,done:!0}:z(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},o}function Ne(t,e){return Y(t)?e:t.constructor(e)}function qe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ve(t){return Mt(t.size),E(t)}function Ue(t){return u(t)?r:s(t)?o:i}function We(t){return Object.create((u(t)?q:s(t)?V:U).prototype)}function Ge(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):N.prototype.cacheResult.call(this)}function Je(t,e){return t>e?1:t<e?-1:0}function Xe(t){var e=K(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=K(n(t))}return e}function Ye(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(t);!function(t,e){try{e.forEach(tn.bind(void 0,t))}catch(n){}}(o,a),o.size=a.length,o._name=e,o._keys=a,o._defaultValues=t}this._map=Bt(i)},o=r.prototype=Object.create(Qe);return o.constructor=r,r}e(Se,Bt),Se.of=function(){return this(arguments)},Se.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Se.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Se.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ke()},Se.prototype.set=function(t,e){return Te(this,t,e)},Se.prototype.remove=function(t){return Te(this,t,v)},Se.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Se.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},Se.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Se.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?we(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Se.isOrderedMap=Ee,Se.prototype[d]=!0,Se.prototype.delete=Se.prototype.remove,e(Oe,q),Oe.prototype.get=function(t,e){return this._iter.get(t,e)},Oe.prototype.has=function(t){return this._iter.has(t)},Oe.prototype.valueSeq=function(){return this._iter.valueSeq()},Oe.prototype.reverse=function(){var t=this,e=Ae(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Oe.prototype.map=function(t,e){var n=this,r=Ie(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},Oe.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ve(this):0,function(o){return t(o,e?--n:n++,r)}),e)},Oe.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(1,e),r=e?Ve(this):0;return new P((function(){var o=n.next();return o.done?o:z(t,e?--r:r++,o.value,o)}))},Oe.prototype[d]=!0,e(xe,V),xe.prototype.includes=function(t){return this._iter.includes(t)},xe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate((function(e){return t(e,r++,n)}),e)},xe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e),r=0;return new P((function(){var e=n.next();return e.done?e:z(t,r++,e.value,e)}))},e(Ce,U),Ce.prototype.has=function(t){return this._iter.includes(t)},Ce.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},Ce.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new P((function(){var e=n.next();return e.done?e:z(t,e.value,e.value,e)}))},e(Me,q),Me.prototype.entrySeq=function(){return this._iter.toSeq()},Me.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){qe(e);var r=a(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},Me.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new P((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){qe(r);var o=a(r);return z(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}}))},xe.prototype.cacheResult=Oe.prototype.cacheResult=Ce.prototype.cacheResult=Me.prototype.cacheResult=Ge,e(Ye,pt),Ye.prototype.toString=function(){return this.__toString($e(this)+" {","}")},Ye.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Ye.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Ye.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Ze(this,Vt()))},Ye.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+$e(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Ze(this,n)},Ye.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Ze(this,e)},Ye.prototype.wasAltered=function(){return this._map.wasAltered()},Ye.prototype.__iterator=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterator(t,e)},Ye.prototype.__iterate=function(t,e){var n=this;return r(this._defaultValues).map((function(t,e){return n.get(e)})).__iterate(t,e)},Ye.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Ze(this,e,t):(this.__ownerID=t,this._map=e,this)};var Qe=Ye.prototype;function Ze(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function $e(t){return t._name||t.constructor.name||"Record"}function tn(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){lt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function en(t){return null==t?ln():nn(t)&&!c(t)?t:ln().withMutations((function(e){var n=i(t);Mt(n.size),n.forEach((function(t){return e.add(t)}))}))}function nn(t){return!(!t||!t[on])}Qe.delete=Qe.remove,Qe.deleteIn=Qe.removeIn=Pt.removeIn,Qe.merge=Pt.merge,Qe.mergeWith=Pt.mergeWith,Qe.mergeIn=Pt.mergeIn,Qe.mergeDeep=Pt.mergeDeep,Qe.mergeDeepWith=Pt.mergeDeepWith,Qe.mergeDeepIn=Pt.mergeDeepIn,Qe.setIn=Pt.setIn,Qe.update=Pt.update,Qe.updateIn=Pt.updateIn,Qe.withMutations=Pt.withMutations,Qe.asMutable=Pt.asMutable,Qe.asImmutable=Pt.asImmutable,e(en,dt),en.of=function(){return this(arguments)},en.fromKeys=function(t){return this(r(t).keySeq())},en.prototype.toString=function(){return this.__toString("Set {","}")},en.prototype.has=function(t){return this._map.has(t)},en.prototype.add=function(t){return un(this,this._map.set(t,!0))},en.prototype.remove=function(t){return un(this,this._map.remove(t))},en.prototype.clear=function(){return un(this,this._map.clear())},en.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach((function(e){return t.add(e)}))})):this.constructor(e[0])},en.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.every((function(t){return t.includes(n)}))||t.remove(n)}))}))},en.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map((function(t){return i(t)}));var n=this;return this.withMutations((function(t){n.forEach((function(n){e.some((function(t){return t.includes(n)}))&&t.remove(n)}))}))},en.prototype.merge=function(){return this.union.apply(this,arguments)},en.prototype.mergeWith=function(e){var n=t.call(arguments,1);return this.union.apply(this,n)},en.prototype.sort=function(t){return cn(je(this,t))},en.prototype.sortBy=function(t,e){return cn(je(this,e,t))},en.prototype.wasAltered=function(){return this._map.wasAltered()},en.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e,r){return t(r,r,n)}),e)},en.prototype.__iterator=function(t,e){return this._map.map((function(t,e){return e})).__iterator(t,e)},en.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},en.isSet=nn;var rn,on="@@__IMMUTABLE_SET__@@",an=en.prototype;function un(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function sn(t,e){var n=Object.create(an);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function ln(){return rn||(rn=sn(Vt()))}function cn(t){return null==t?vn():fn(t)?t:vn().withMutations((function(e){var n=i(t);Mt(n.size),n.forEach((function(t){return e.add(t)}))}))}function fn(t){return nn(t)&&c(t)}an[on]=!0,an.delete=an.remove,an.mergeDeep=an.merge,an.mergeDeepWith=an.mergeWith,an.withMutations=Pt.withMutations,an.asMutable=Pt.asMutable,an.asImmutable=Pt.asImmutable,an.__empty=ln,an.__make=sn,e(cn,en),cn.of=function(){return this(arguments)},cn.fromKeys=function(t){return this(r(t).keySeq())},cn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},cn.isOrderedSet=fn;var pn,hn=cn.prototype;function dn(t,e){var n=Object.create(hn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function vn(){return pn||(pn=dn(ke()))}function gn(t){return null==t?En():yn(t)?t:En().unshiftAll(t)}function yn(t){return!(!t||!t[_n])}hn[d]=!0,hn.__empty=vn,hn.__make=dn,e(gn,ht),gn.of=function(){return this(arguments)},gn.prototype.toString=function(){return this.__toString("Stack [","]")},gn.prototype.get=function(t,e){var n=this._head;for(t=w(this,t);n&&t--;)n=n.next;return n?n.value:e},gn.prototype.peek=function(){return this._head&&this._head.value},gn.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Sn(t,e)},gn.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;Mt(t.size);var e=this.size,n=this._head;return t.reverse().forEach((function(t){e++,n={value:t,next:n}})),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Sn(e,n)},gn.prototype.pop=function(){return this.slice(1)},gn.prototype.unshift=function(){return this.push.apply(this,arguments)},gn.prototype.unshiftAll=function(t){return this.pushAll(t)},gn.prototype.shift=function(){return this.pop.apply(this,arguments)},gn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):En()},gn.prototype.slice=function(t,e){if(T(t,e,this.size))return this;var n=O(t,this.size);if(x(e,this.size)!==this.size)return ht.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Sn(r,o)},gn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Sn(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},gn.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},gn.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new P((function(){if(r){var e=r.value;return r=r.next,z(t,n++,e)}return{value:void 0,done:!0}}))},gn.isStack=yn;var mn,_n="@@__IMMUTABLE_STACK__@@",bn=gn.prototype;function Sn(t,e,n,r){var o=Object.create(bn);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function En(){return mn||(mn=Sn(0))}function wn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}bn[_n]=!0,bn.withMutations=Pt.withMutations,bn.asMutable=Pt.asMutable,bn.asImmutable=Pt.asImmutable,bn.wasAltered=Pt.wasAltered,n.Iterator=P,wn(n,{toArray:function(){Mt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate((function(e,n){t[n]=e})),t},toIndexedSeq:function(){return new xe(this)},toJS:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJS?t.toJS():t})).__toJS()},toJSON:function(){return this.toSeq().map((function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t})).__toJS()},toKeyedSeq:function(){return new Oe(this,!0)},toMap:function(){return Bt(this.toKeyedSeq())},toObject:function(){Mt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t},toOrderedMap:function(){return Se(this.toKeyedSeq())},toOrderedSet:function(){return cn(u(this)?this.valueSeq():this)},toSet:function(){return en(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Ce(this)},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return gn(u(this)?this.valueSeq():this)},toList:function(){return oe(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){var e=t.call(arguments,0);return Ne(this,Le(this,e))},includes:function(t){return this.some((function(e){return at(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Mt(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1})),n},filter:function(t,e){return Ne(this,De(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate((function(r,o,i){if(t.call(e,r,o,i))return n=[o,r],!1})),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Mt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Mt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return Ne(this,Ie(this,t,e))},reduce:function(t,e,n){var r,o;return Mt(this.size),arguments.length<2?o=!0:r=e,this.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)})),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ne(this,Ae(this,!0))},slice:function(t,e){return Ne(this,Pe(this,t,e,!0))},some:function(t,e){return!this.every(Cn(t),e)},sort:function(t){return Ne(this,je(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return E(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Bt().asMutable();return t.__iterate((function(o,i){r.update(e.call(n,o,i,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return ut(this,t)},entrySeq:function(){var t=this;if(t._cache)return new W(t._cache);var e=t.toSeq().map(xn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Cn(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(k)},flatMap:function(t,e){return Ne(this,function(t,e,n){var r=Ue(t);return t.toSeq().map((function(o,i){return r(e.call(n,o,i,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Ne(this,Re(this,t,!0))},fromEntrySeq:function(){return new Me(this)},get:function(t,e){return this.find((function(e,n){return at(n,t)}),void 0,e)},getIn:function(t,e){for(var n,r=this,o=Xe(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,v):v)===v)return e}return r},groupBy:function(t,e){return function(t,e,n){var r=u(t),o=(c(t)?Se():Bt()).asMutable();t.__iterate((function(i,a){o.update(e.call(n,i,a,t),(function(t){return(t=t||[]).push(r?[a,i]:i),t}))}));var i=Ue(t);return o.map((function(e){return Ne(t,i(e))}))}(this,t,e)},has:function(t){return this.get(t,v)!==v},hasIn:function(t){return this.getIn(t,v)!==v},isSubset:function(t){return t="function"==typeof t.includes?t:n(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:n(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(On).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Ke(this,t)},maxBy:function(t,e){return Ke(this,e,t)},min:function(t){return Ke(this,t?Mn(t):An)},minBy:function(t,e){return Ke(this,e?Mn(e):An,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Ne(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Ne(this,ze(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Cn(t),e)},sortBy:function(t,e){return Ne(this,je(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Ne(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Ne(this,function(t,e,n){var r=We(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate((function(t,o,u){return e.call(n,t,o,u)&&++a&&r(t,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(2,o),u=!0;return new P((function(){if(!u)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var o=t.value,s=o[0],l=o[1];return e.call(n,l,s,i)?2===r?t:z(r,s,l,t):(u=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Cn(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=c(t),n=u(t),r=e?1:0;return function(t,e){return e=vt(e,3432918353),e=vt(e<<15|e>>>-15,461845907),e=vt(e<<13|e>>>-13,5),e=vt((e=(e+3864292196|0)^t)^e>>>16,2246822507),gt((e=vt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+Dn(yt(t),yt(e))|0}:function(t,e){r=r+Dn(yt(t),yt(e))|0}:e?function(t){r=31*r+yt(t)|0}:function(t){r=r+yt(t)|0}),r)}(this))}});var kn=n.prototype;kn[f]=!0,kn[D]=kn.values,kn.__toJS=kn.toArray,kn.__toStringMapper=Bn,kn.inspect=kn.toSource=function(){return this.toString()},kn.chain=kn.flatMap,kn.contains=kn.includes,function(){try{Object.defineProperty(kn,"length",{get:function(){if(!n.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(rr){}}(),wn(r,{flip:function(){return Ne(this,Be(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey((function(e){return at(e,t)}))},lastKeyOf:function(t){return this.findLastKey((function(e){return at(e,t)}))},mapEntries:function(t,e){var n=this,r=0;return Ne(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Ne(this,this.toSeq().flip().map((function(r,o){return t.call(e,r,o,n)})).flip())}});var Tn=r.prototype;function On(t,e){return e}function xn(t,e){return[e,t]}function Cn(t){return function(){return!t.apply(this,arguments)}}function Mn(t){return function(){return-t.apply(this,arguments)}}function Bn(t){return"string"==typeof t?JSON.stringify(t):t}function In(){return S(arguments)}function An(t,e){return t<e?1:t>e?-1:0}function Dn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return Tn[p]=!0,Tn[D]=kn.entries,Tn.__toJS=kn.toObject,Tn.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Bn(t)},wn(o,{toKeyedSeq:function(){return new Oe(this,!1)},filter:function(t,e){return Ne(this,De(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Ne(this,Ae(this,!1))},slice:function(t,e){return Ne(this,Pe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=O(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ne(this,1===n?r:r.concat(S(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Ne(this,Re(this,t,!1))},get:function(t,e){return(t=w(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=w(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ne(this,function(t,e){var n=We(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate((function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(1,r),a=0;return new P((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?z(n,a++,e):z(n,a++,o.value,o)}))},n}(this,t))},interleave:function(){var t=[this].concat(S(arguments)),e=He(this.toSeq(),V.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Ne(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Ne(this,ze(this,t,e,!1))},zip:function(){var t=[this].concat(S(arguments));return Ne(this,He(this,In,t))},zipWith:function(t){var e=S(arguments);return e[0]=this,Ne(this,He(this,t,e))}}),o.prototype[h]=!0,o.prototype[d]=!0,wn(i,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=kn.includes,wn(q,r.prototype),wn(V,o.prototype),wn(U,i.prototype),wn(pt,r.prototype),wn(ht,o.prototype),wn(dt,i.prototype),{Iterable:n,Seq:N,Collection:ft,Map:Bt,OrderedMap:Se,List:oe,Stack:gn,Set:en,OrderedSet:cn,Record:Ye,Range:ct,Repeat:st,is:at,fromJS:rt}}()})),L=z.List,R=z.OrderedSet,j=z.Map,K=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["focus","blur","setMode","exitCurrentMode","restoreEditorDOM","setRenderGuard","removeRenderGuard","setClipboard","getClipboard","getEditorKey","update","onDragEnter","onDragLeave"]}));S(K);var F=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.getCurrentContent().getBlockMap(),n=e.last().getKey(),r=e.last().getLength(),o=new u.a.SelectionState({anchorKey:n,anchorOffset:r,focusKey:n,focusOffset:r});return u.a.EditorState.acceptSelection(t,o)}}));S(F);var H=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=(n=o.a)&&n.__esModule?n:{default:n};e.default=function(t,e,n){var o=(0,z.List)(t).map((function(t){var o=t.component;return r({},t,{component:function(t){return i.default.createElement(o,r({},t,{getEditorState:e,setEditorState:n}))}})})).toJS();return new u.a.CompositeDecorator(o)}}));S(H);var N=E((function(t){var e,n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=(e=z)&&e.__esModule?e:{default:e},o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.decorators=r.default.List(e)}return n(t,[{key:"getDecorations",value:function(t,e){var n=new Array(t.getText().length).fill(null);return this.decorators.forEach((function(r,o){r.getDecorations(t,e).forEach((function(t,e){t&&(n[e]=o+"-"+t)}))})),r.default.List(n)}},{key:"getComponentForKey",value:function(e){return this.getDecoratorForKey(e).getComponentForKey(t.getInnerKey(e))}},{key:"getPropsForKey",value:function(e){return this.getDecoratorForKey(e).getPropsForKey(t.getInnerKey(e))}},{key:"getDecoratorForKey",value:function(t){var e=t.split("-"),n=Number(e[0]);return this.decorators.get(n)}}],[{key:"getInnerKey",value:function(t){return t.split("-").slice(1).join("-")}}]),t}();t.exports=o}));S(N);var q=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=o(H),r=o(N);function o(t){return t&&t.__esModule?t:{default:t}}var i=function(t){return"function"==typeof t.getDecorations&&"function"==typeof t.getComponentForKey&&"function"==typeof t.getPropsForKey};e.default=function(t,e,o){var a=function(t){var e=t.decorators,n=t.plugins;return(0,z.List)([{decorators:e}].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n))).filter((function(t){return void 0!==t.decorators})).flatMap((function(t){return t.decorators}))}(t),u=(0,n.default)(a.filter((function(t){return!i(t)})),e,o),s=a.filter((function(t){return i(t)}));return new r.default(s.push(u))}}));S(q);var V=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={keyBindingFn:function(t){return(0,u.a.getDefaultKeyBinding)(t)}}}));S(V);var U=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={handleKeyCommand:function(t,e,n,r){var o=r.setEditorState,i=void 0;switch(t){case"backspace":case"backspace-word":case"backspace-to-start-of-line":i=u.a.RichUtils.onBackspace(e);break;case"delete":case"delete-word":case"delete-to-end-of-block":i=u.a.RichUtils.onDelete(e);break;default:return"not-handled"}return null!=i?(o(i),"handled"):"not-handled"}}}));S(U);var W=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(o.a),a=h(g.a),s=h(K),l=h(F),c=h(q),f=h(V),p=h(U);function h(t){return t&&t.__esModule?t:{default:t}}function d(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var y=function(t){var e=void 0;return null!=t.decorators?e=t.decorators:null!=t._decorators&&(e=t._decorators),null!=e.size?e.size:e.length},m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return _.call(n),[n.props].concat(v(n.resolvePlugins())).forEach((function(t){"function"==typeof t.initialize&&t.initialize(n.getPluginMethods())})),s.default.forEach((function(t){n[t]=function(){var e;return(e=n.editor)[t].apply(e,arguments)}})),n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.a.Component),r(e,[{key:"componentWillMount",value:function(){var t=(0,c.default)(this.props,this.getEditorState,this.onChange),e=u.a.EditorState.set(this.props.editorState,{decorator:t});this.onChange((0,l.default)(e))}},{key:"componentWillReceiveProps",value:function(t){var e=this.props.editorState.getDecorator(),n=t.editorState.getDecorator();if(e&&!(e===n||e&&n&&y(e)===y(n))){var r=u.a.EditorState.set(t.editorState,{decorator:e});this.onChange((0,l.default)(r))}}},{key:"componentWillUnmount",value:function(){var t=this;this.resolvePlugins().forEach((function(e){e.willUnmount&&e.willUnmount({getEditorState:t.getEditorState,setEditorState:t.onChange})}))}},{key:"render",value:function(){var t=this,e=this.createPluginHooks(),r=this.resolveCustomStyleMap(),o=this.resolveAccessibilityProps(),a=this.resolveblockRenderMap();return i.default.createElement(u.a.Editor,n({},this.props,o,e,{readOnly:this.props.readOnly||this.state.readOnly,customStyleMap:r,blockRenderMap:a,onChange:this.onChange,editorState:this.props.editorState,ref:function(e){t.editor=e}}))}}]),e}();m.propTypes={editorState:a.default.object.isRequired,onChange:a.default.func.isRequired,plugins:a.default.array,defaultKeyBindings:a.default.bool,defaultKeyCommands:a.default.bool,defaultBlockRenderMap:a.default.bool,customStyleMap:a.default.object,decorators:a.default.array},m.defaultProps={defaultBlockRenderMap:!0,defaultKeyBindings:!0,defaultKeyCommands:!0,customStyleMap:{},plugins:[],decorators:[]};var _=function(){var t=this;this.onChange=function(e){var n=e;t.resolvePlugins().forEach((function(e){e.onChange&&(n=e.onChange(n,t.getPluginMethods()))})),t.props.onChange&&t.props.onChange(n,t.getPluginMethods())},this.getPlugins=function(){return t.props.plugins.slice(0)},this.getProps=function(){return n({},t.props)},this.getReadOnly=function(){return t.props.readOnly},this.setReadOnly=function(e){e!==t.state.readOnly&&t.setState({readOnly:e})},this.getEditorRef=function(){return t.editor},this.getEditorState=function(){return t.props.editorState},this.getPluginMethods=function(){return{getPlugins:t.getPlugins,getProps:t.getProps,setEditorState:t.onChange,getEditorState:t.getEditorState,getReadOnly:t.getReadOnly,setReadOnly:t.setReadOnly,getEditorRef:t.getEditorRef}},this.createEventHooks=function(e,n){return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=[].slice.apply(o);return a.push(t.getPluginMethods()),n.some((function(t){return"function"==typeof t[e]&&!0===t[e].apply(t,v(a))}))}},this.createHandleHooks=function(e,n){return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=[].slice.apply(o);return a.push(t.getPluginMethods()),n.some((function(t){return"function"==typeof t[e]&&"handled"===t[e].apply(t,v(a))}))?"handled":"not-handled"}},this.createFnHooks=function(e,r){return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var u=[].slice.apply(i);if(u.push(t.getPluginMethods()),"blockRendererFn"===e){var s={props:{}};return r.forEach((function(t){if("function"==typeof t[e]){var r=t[e].apply(t,v(u));if(null!=r){var o=r.props,i=d(r,["props"]),a=s,l=a.props,c=d(a,["props"]);s=n({},c,i,{props:n({},l,o)})}}})),!!s.component&&s}if("blockStyleFn"===e){var l=void 0;return r.forEach((function(t){if("function"==typeof t[e]){var n=t[e].apply(t,v(u));null!=n&&(l=(l?l+" ":"")+n)}})),l||""}var c=void 0,f=r.some((function(t){return"function"==typeof t[e]&&void 0!==(c=t[e].apply(t,v(u)))}));return!!f&&c}},this.createPluginHooks=function(){var e={},n=[],r=[],o=[],i=[t.props].concat(v(t.resolvePlugins()));return i.forEach((function(t){Object.keys(t).forEach((function(t){"onChange"!==t&&-1===n.indexOf(t)&&-1===o.indexOf(t)&&(0===t.indexOf("on")?n.push(t):0===t.indexOf("handle")?r.push(t):t.length-2===t.indexOf("Fn")&&o.push(t))}))})),n.forEach((function(n){e[n]=t.createEventHooks(n,i)})),r.forEach((function(n){e[n]=t.createHandleHooks(n,i)})),o.forEach((function(n){e[n]=t.createFnHooks(n,i)})),e},this.resolvePlugins=function(){var e=t.props.plugins.slice(0);return!0===t.props.defaultKeyBindings&&e.push(f.default),!0===t.props.defaultKeyCommands&&e.push(p.default),e},this.resolveCustomStyleMap=function(){return t.props.plugins.filter((function(t){return void 0!==t.customStyleMap})).map((function(t){return t.customStyleMap})).concat([t.props.customStyleMap]).reduce((function(t,e){return n({},t,e)}),{})},this.resolveblockRenderMap=function(){var e=t.props.plugins.filter((function(t){return void 0!==t.blockRenderMap})).reduce((function(t,e){return t.merge(e.blockRenderMap)}),(0,z.Map)({}));return t.props.defaultBlockRenderMap&&(e=u.a.DefaultDraftBlockRenderMap.merge(e)),t.props.blockRenderMap&&(e=e.merge(t.props.blockRenderMap)),e},this.resolveAccessibilityProps=function(){var e={};return[t.props].concat(v(t.resolvePlugins())).forEach((function(t){if("function"==typeof t.getAccessibilityProps){var r=t.getAccessibilityProps(),o={};void 0===e.ariaHasPopup?o.ariaHasPopup=r.ariaHasPopup:"true"===r.ariaHasPopup&&(o.ariaHasPopup="true"),void 0===e.ariaExpanded?o.ariaExpanded=r.ariaExpanded:!0===r.ariaExpanded&&(o.ariaExpanded=!0),e=n({},e,r,o)}})),e}};e.default=m}));S(W);var G=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.composeDecorators=e.createEditorStateWithText=e.default=void 0;var n=i(D),r=i(P),o=i(W);function i(t){return t&&t.__esModule?t:{default:t}}e.default=o.default,e.createEditorStateWithText=n.default,e.composeDecorators=r.default})),J=S(G),X=G.composeDecorators;G.createEditorStateWithText;var Y=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o},Q=function(t){function e(e){var n;return(n=t.call(this,e)||this).onEditorStateChange=Object(s.debounce)((function(t){var e=(0,n.props.visibilityFn)(t),r=n.state.isVisible;if(e){n.setState({isVisible:e});var o=n.props,a=o.displayOptions,u=o.offset,s=o.isMobile,l=t.getSelection(),c=t.getCurrentContent().getBlockForKey(l.getStartKey()),f=i.l.encode(c.getKey(),0,0);setTimeout((function(){if(a.displayMode===i.k.NORMAL){var t=document.querySelectorAll('[data-offset-key="'+f+'"]')[0];if(t){var e=t.getBoundingClientRect().top,r=t.offsetParent.getBoundingClientRect().top;n.setState({position:w(w({top:e-r+u.y},s?{right:u.x}:{left:u.x,right:u.x}),{},{transform:"scale("+(s?.76:1)+")",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"})})}}else a.displayMode===i.k.FLOATING&&n.setState({position:{top:u.y,left:u.x,right:u.x,transform:"scale("+(s?.76:1)+")",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)",position:"absolute"}})}))}else r&&n.setState({isVisible:!1,position:{transform:"scale(0)"}})}),40),n.state={position:{transform:"scale(0)"}},n.ToolbarDecoration=e.toolbarDecorationFn(),n}k(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.pubsub.subscribe("editorState",this.onEditorStateChange)},n.componentWillUnmount=function(){this.props.pubsub.unsubscribe("editorState",this.onEditorStateChange)},n.renderToolbarContent=function(){var t=this.props,e=t.theme,n=t.pubsub;return this.props.structure.map((function(t,r){return o.a.createElement(t,{key:r,getEditorState:n.get("getEditorState"),setEditorState:n.get("setEditorState"),theme:e})}))},n.render=function(){if(!1===this.state.isVisible)return null;var t=(this.props.theme||{}).wrapperStyles,e={className:d()("Uw7ze",t&&t.sideToolbarWrapper),style:this.state.position};if(this.ToolbarDecoration){var n=this.ToolbarDecoration;return o.a.createElement(n,e,this.renderToolbarContent())}return o.a.createElement("div",e,this.renderToolbarContent())},e}(r.Component);Q.defaultProps={displayOptions:{displayMode:i.k.NORMAL},visibilityFn:function(){return!1},toolbarDecorationFn:function(){return null}};var Z=function(t){return o.a.createElement("svg",w({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"block-quote-icon-path",d:"M11.2 4h4.6c.11 0 .2.09.2.2v4.533c0 .852-.095 1.655-.284 2.408a6.033 6.033 0 0 1-.875 1.983 4.501 4.501 0 0 1-1.488 1.364c-.598.341-1.32.512-2.165.512v-2.132c.495 0 .904-.12 1.224-.362.321-.242.584-.562.788-.96.204-.397.343-.845.416-1.343.073-.497.109-.83.109-1.314H11.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2zm-8 0h4.6c.11 0 .2.09.2.2v4.533c0 .852-.095 1.655-.284 2.408a6.033 6.033 0 0 1-.875 1.983 4.501 4.501 0 0 1-1.488 1.364c-.598.341-1.32.512-2.165.512v-2.132c.495 0 .904-.12 1.224-.362.321-.242.584-.562.788-.96.204-.397.343-.845.416-1.343.073-.497.109-.83.109-1.314H3.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2z"})),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("mask",{id:"block-quote-icon-mask"},o.a.createElement("use",{xlinkHref:"#block-quote-icon-path"})),o.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#block-quote-icon-path"})))},$=function(t){return o.a.createElement("svg",w({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"bold-icon-path",d:"M5.2 4h4.84c.515 0 .983.046 1.406.139.423.092.786.244 1.088.454.302.21.537.49.703.84.166.349.25.78.25 1.294 0 .544-.127 1.004-.379 1.379-.251.375-.614.68-1.088.916.665.196 1.161.537 1.489 1.025.327.488.491 1.076.491 1.764 0 .555-.106 1.035-.317 1.44a2.791 2.791 0 0 1-.854.994 3.745 3.745 0 0 1-1.224.57c-.459.123-.93.185-1.413.185H5.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2zm2.051 4.452h2.403c.423 0 .77-.102 1.043-.308.272-.205.408-.539.408-1.001 0-.257-.046-.467-.136-.632a1.017 1.017 0 0 0-.363-.385 1.51 1.51 0 0 0-.521-.193 3.395 3.395 0 0 0-.612-.053H7.25v2.572zm0 4.668H9.79c.232 0 .453-.023.665-.069a1.61 1.61 0 0 0 .559-.231 1.15 1.15 0 0 0 .385-.439c.096-.185.144-.421.144-.709 0-.565-.156-.968-.469-1.21-.312-.24-.725-.361-1.239-.361H7.251v3.02z"})),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("mask",{id:"bold-icon-mask"},o.a.createElement("use",{xlinkHref:"#bold-icon-path"})),o.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#bold-icon-path"})))},tt=function(t){return o.a.createElement("svg",w({width:19,height:19,viewBox:"0 0 19 19"},t),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{fillRule:"nonzero",d:"M4.2 5h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm5 4h5.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H9.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-5 4h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"}),o.a.createElement("path",{d:"M4.058 10.662L5.214 9.5 4.059 8.339a.2.2 0 0 1 0-.283l.414-.414a.2.2 0 0 1 .283 0L6.472 9.36a.2.2 0 0 1 0 .282l-1.717 1.717a.2.2 0 0 1-.282 0l-.414-.414a.2.2 0 0 1 0-.282z"})))},et=function(t){return o.a.createElement("svg",w({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"italic-icon-path",d:"M7.834 13l1.234-7H7.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h5.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.701l-1.234 7H11.8c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H6.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.634z"})),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("mask",{id:"italic-icon-mask"},o.a.createElement("use",{xlinkHref:"#italic-icon-path"})),o.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#italic-icon-path"})))},nt=function(t){return o.a.createElement("svg",w({xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 19 19"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"link-icon-path",d:"M8 9h2V6.2c0-.11.09-.2.2-.2h3.3a3.5 3.5 0 0 1 0 7h-3.3a.2.2 0 0 1-.2-.2V10H8v2.8a.2.2 0 0 1-.2.2H4.5a3.5 3.5 0 0 1 0-7h3.3c.11 0 .2.09.2.2V9zm0 0V7.007H4.5a2.5 2.5 0 1 0 0 5H8V10H6.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H8zm2 1v1.993h3.5a2.5 2.5 0 1 0 0-5H10V9h1.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H10z"})),o.a.createElement("use",{fillRule:"evenodd",transform:"rotate(-45 9 9.5)",xlinkHref:"#link-icon-path"}))},rt=function(t){return o.a.createElement("svg",w({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"ordered-list-icon-path",d:"M8.2 4h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-5 1H5v-1h.8c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H3.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm.8-2h-.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H5v1h-.8a.2.2 0 0 1-.2-.2V13zm-.8-3H4v-.8c0-.11.09-.2.2-.2H5v1h.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H3.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zM3 7.8v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H5V8H3.2a.2.2 0 0 1-.2-.2zM4 3h-.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v3.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V3z"})),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("mask",{id:"ordered-list-icon-mask"},o.a.createElement("use",{xlinkHref:"#ordered-list-icon-path"})),o.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#ordered-list-icon-path"})))},ot=function(t){return o.a.createElement("svg",w({width:25,height:25,viewBox:"0 0 25 25"},t),o.a.createElement("path",{fillRule:"evenodd",d:"M13.207 12.5l3.394 3.394a.2.2 0 0 1 0 .283l-.424.424a.2.2 0 0 1-.283 0L12.5 13.207l-3.394 3.394a.2.2 0 0 1-.283 0l-.424-.424a.2.2 0 0 1 0-.283l3.394-3.394-3.394-3.394a.2.2 0 0 1 0-.283l.424-.424a.2.2 0 0 1 .283 0l3.394 3.394 3.394-3.394a.2.2 0 0 1 .283 0l.424.424a.2.2 0 0 1 0 .283L13.207 12.5zM12.5 25C5.596 25 0 19.404 0 12.5S5.596 0 12.5 0 25 5.596 25 12.5 19.404 25 12.5 25zm0-1C18.851 24 24 18.851 24 12.5S18.851 1 12.5 1 1 6.149 1 12.5 6.149 24 12.5 24z"}))},it=function(t){return o.a.createElement("svg",w({width:25,height:25,viewBox:"0 0 25 25"},t),o.a.createElement("path",{fillRule:"evenodd",d:"M13 12h4.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H13v4.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V13H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H12V7.2c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2V12zm-.5 13C5.596 25 0 19.404 0 12.5S5.596 0 12.5 0 25 5.596 25 12.5 19.404 25 12.5 25zm0-1C18.851 24 24 18.851 24 12.5S18.851 1 12.5 1 1 6.149 1 12.5 6.149 24 12.5 24z"}))},at=function(t){return o.a.createElement("svg",w({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"title-icon-path",d:"M15 10v4.8a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V10h-1.8a.2.2 0 0 1-.2-.2V8.2c0-.11.09-.2.2-.2h5.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H15zM8 6v8.8a.2.2 0 0 1-.2.2H6.2a.2.2 0 0 1-.2-.2V6H2.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h9.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H8z"})),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("mask",{id:"title-icon-mask"},o.a.createElement("use",{xlinkHref:"#title-icon-path"})),o.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#title-icon-path"})))},ut=function(t){return o.a.createElement("svg",w({viewBox:"0 0 19 19"},t),o.a.createElement("path",{d:"M10 6v8.8a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2V6H4.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h9.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H10zm4 6h-.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v3.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V12z",fillRule:"nonzero"}))},st=function(t){return o.a.createElement("svg",w({viewBox:"0 0 19 19"},t),o.a.createElement("path",{d:"M9 8h2.8a.2.2 0 0 0 .2-.2V6.2a.2.2 0 0 0-.2-.2H4.2a.2.2 0 0 0-.2.2v1.6c0 .11.09.2.2.2H7v6.8c0 .11.09.2.2.2h1.6a.2.2 0 0 0 .2-.2V8zm3.2 6h.8v-.8c0-.11.09-.2.2-.2h.8v1h.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-2.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-.2-2.2v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H14v-1h-1.8a.2.2 0 0 1-.2-.2z",fill:"currentColor"}))},lt=function(t){return o.a.createElement("svg",w({viewBox:"0 0 19 19"},t),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M14.014 10.596c0 .676-.116 1.286-.349 1.83a4.102 4.102 0 0 1-.95 1.386c-.402.38-.877.673-1.426.88a5.059 5.059 0 0 1-1.79.308 5.059 5.059 0 0 1-1.79-.309 4.268 4.268 0 0 1-1.434-.88 3.957 3.957 0 0 1-.95-1.385c-.228-.544-.341-1.154-.341-1.83V4.2c0-.11.09-.2.2-.2H6.78c.11 0 .2.09.2.2v6.332c0 .275.042.563.127.864.084.3.224.578.42.832.195.253.453.462.776.625.322.164.72.246 1.196.246.475 0 .874-.082 1.196-.246.322-.163.58-.372.776-.625.196-.254.336-.531.42-.832.085-.301.127-.589.127-.864L12.02 4.2c0-.11.09-.2.2-.2h1.596c.11 0 .2.09.2.2l-.002 6.396z"}),o.a.createElement("rect",{width:9,height:1,x:5,y:16,rx:.2})))},ct=function(t){return o.a.createElement("svg",w({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},t),o.a.createElement("defs",null,o.a.createElement("path",{id:"unordered-list-icon-path",d:"M4.2 4h.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm3 0h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-3 0h.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0-5h.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"})),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("mask",{id:"unordered-list-icon-mask"},o.a.createElement("use",{xlinkHref:"#unordered-list-icon-path"})),o.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#unordered-list-icon-path"})))};function ft(){return(ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var pt=o.a.createElement("path",{fillRule:"evenodd",d:"M10.961 5a5.961 5.961 0 014.723 9.599l3.264 3.266a.199.199 0 01.038.23l-.038.052-.8.801a.202.202 0 01-.232.038l-.051-.038-3.266-3.264A5.962 5.962 0 1110.961 5zm-.005 1.079a4.876 4.876 0 100 9.754 4.876 4.876 0 100-9.754z"}),ht=function(t){return o.a.createElement("svg",ft({width:24,height:24,viewBox:"0 0 24 24"},t),pt)};function dt(){return(dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var vt,gt=o.a.createElement("path",{d:"M15.385 8l.615.615L12.615 12 16 15.385l-.615.615L12 12.615 8.615 16 8 15.385 11.384 12 8 8.615 8.615 8 12 11.385 15.385 8z",opacity:.6,fill:"currentColor"}),yt=function(t){return o.a.createElement("svg",dt({width:24,height:24,viewBox:"0 0 24 24"},t),gt)},mt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).onChange=function(t){return e.props.onChange(t.target.value)},e.onCloseRequested=function(){e.props.onClose()},e.handleKeyPress=function(t){t.charCode===i.p.ESCAPE&&e.onCloseRequested()},e.handleClearText=function(){return e.props.onChange("")},e}k(e,t);var n=e.prototype;return n.componentDidMount=function(){this.input.focus(),this.input.setSelectionRange(0,this.input.value.length)},n.render=function(){var t=this,e=this.props,n=e.placeHolder,r=e.value;return o.a.createElement("div",{className:"_2S1LT"},o.a.createElement(ht,{className:"_3EJqW"}),o.a.createElement("input",{ref:function(e){t.input=e},className:"_3J3cS",placeholder:n,onKeyPress:this.handleKeyPress,onChange:this.onChange,value:r}),r&&o.a.createElement(yt,{className:"_3Luoz",onClick:this.handleClearText}))},e}(r.Component),_t=function(t){var e=t.getEditorState,n=t.setEditorState,r=t.structure,a=t.searchTag,u=t.t,s=t.hidePopup,l=t.splitToSections,c=t.horizontalMenu,f=a&&function(t,e){var n=[];return[{plugin:"ImagePlugin_InsertButton",tags:"Image_plugin_search_tags"},{plugin:"GalleryPlugin_InsertButton",tags:"Gallery_plugin_search_tags"},{plugin:"VideoPlugin_InsertButton",tags:"Video_plugin_search_tags"},{plugin:"HTMLCodePlugin_InsertButton",tags:"HTML_plugin_search_tags"},{plugin:"DividerPlugin_InsertButton",tags:"Divider_plugin_search_tags"},{plugin:"CodeblockPlugin_InsertButton",tags:"codeBlock_plugin_search_tags"},{plugin:"SoundcloudPlugin_InsertButton",tags:"SoundCloud_plugin_search_tags"},{plugin:"MapPlugin_InsertButton",tags:"Map_plugin_search_tags"},{plugin:"UploadFilePlugin_InsertButton",tags:"UploadFile_plugin_search_tags"},{plugin:"ButtonPlugin_InsertButton",tags:"Button_plugin_search_tags"},{plugin:"UndoPlugin_InsertButton",tags:"Undo_plugin_search_tags"},{plugin:"RedoPlugin_InsertButton",tags:"Redo_plugin_search_tags"},{plugin:"GIFPlugin_InsertButton",tags:"Gif_plugin_search_tags"},{plugin:"EmojiPlugin_InsertButton",tags:"Emoji_plugin_search_tags"},{plugin:"Facebook_InsertButton",tags:"Facebook_plugin_search_tags"},{plugin:"Instagram_InsertButton",tags:"Instagram_plugin_search_tags"},{plugin:"TikTok_InsertButton",tags:"YouTube_plugin_search_tags"},{plugin:"Pinterest_InsertButton",tags:"TikTok_plugin_search_tags"},{plugin:"YouTube_InsertButton",tags:"Pinterest_plugin_search_tags"},{plugin:"Events_InsertButton",tags:"Events_plugin_search_tags"},{plugin:"Bookings_InsertButton",tags:"Bookings_plugin_search_tags"},{plugin:"Stores_InsertButton",tags:"Stores_plugin_search_tags"}].map((function(r){var o=r.plugin,i=r.tags;return e(i).includes(t)&&n.push(o)})),n}(a,u),p=a?r.filter((function(t){var e=t.name;return f.includes(e)})):r;if(0===p.length)return o.a.createElement("div",{className:"_1Y7TI"},u("BlockToolbar_Search_EmptyState"));var h,v=function(t){var r=t?p.filter((function(e){return e.section===t})):p;return o.a.createElement("div",{className:d()("_238fN",c&&"_3zcLi")},t&&o.a.createElement("div",{className:"_3emvm"},u(t)),o.a.createElement("div",{className:d()("_9iWn5",c&&"_3zcLi")},r.map((function(t,r){var a=t.component;return o.a.createElement("div",{key:r,className:d()("_1cmF8",c&&"_3zcLi")},o.a.createElement(a,{getEditorState:e,setEditorState:n,showName:!c,toolbarName:i.D.SIDE,hidePopup:s}))}))))},g=[];return l&&r.forEach((function(t){var e=t.section;return!g.includes(e)&&g.push(e)})),g.length>0?(h=g,["BlockToolbar_Section_Basic","BlockToolbar_Section_Embed_Wix","BlockToolbar_Section_Embed_Social","BlockToolbar_Section_Tools"].map((function(t){return!!h.includes(t)&&t})).filter((function(t){return t}))).map((function(t){return v(t)})):v()},bt=function(t){function e(e){var n,r;(r=t.call(this,e)||this).onChange=function(t){return r.setState({value:t},(function(){var t;return null===(t=r.container)||void 0===t?void 0:t.scrollTo(0,0)}))},r.state={value:""};var o=e.addPluginMenuConfig,i=e.isMobile;return r.showSearch=(null==o?void 0:o.showSearch)&&!i,r.horizontalMenu=!o&&!i,r.wrapperClassName=d()("_Yk_L",((n={})._3zcLi=r.horizontalMenu,n)),r.pluginsClassName=d()("_19nme",r.horizontalMenu&&"_3zcLi",r.showSearch&&"_5VaM-"),r}return k(e,t),e.prototype.render=function(){var t,e=this,n=this.props,r=n.getEditorState,i=n.setEditorState,a=n.structure,u=n.hidePopup,s=n.t,l=n.addPluginMenuConfig,c=n.isActive,f=this.showSearch,p=this.wrapperClassName,h=this.pluginsClassName,d=this.horizontalMenu,v=this.state.value;return o.a.createElement("div",{className:p,"data-hook":"addPluginMenu",ref:function(t){return e.container=t},style:{height:null===(t=this.container)||void 0===t?void 0:t.offsetHeight}},f&&c&&o.a.createElement("div",{className:"_3cYau"},o.a.createElement(mt,{onClose:u,placeHolder:s("BlockToolbar_Search_Placeholder"),onChange:this.onChange,value:v})),o.a.createElement("div",{className:h},o.a.createElement(_t,{getEditorState:r,setEditorState:i,structure:a,searchTag:v,t:s,hidePopup:u,splitToSections:!v&&(null==l?void 0:l.splitToSections),horizontalMenu:d})))},e}(r.Component),St=function(t){var e=t.children,n=t.elementHeight,r=t.elementMarginTop,i=t.elementMarginBottom,a=t.targetElement,u=document.body.getBoundingClientRect(),s=null==a?void 0:a.getBoundingClientRect(),l=u.height-(null==s?void 0:s.top)-r;return o.a.cloneElement(e,{top:l<n?i-n:r})},Et=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={isActive:!1,tabIndex:-1,style:{transform:"translate(-50%) scale(0)"}},e.onWindowClick=function(){e.state.isActive&&e.hidePopup()},e.openAddPluginModal=function(){var t=e.props,n=t.getEditorState,r=t.setEditorState,o=t.structure,a=t.pubsub,u=t.theme,s=t.helpers,l=t.t,c=t.isMobile,f=t.addPluginMenuConfig;s.openModal({modalName:i.m.MOBILE_ADD_PLUGIN,modalStyles:Object(i.S)({fullScreen:!1,isMobile:c,stickyButtomMobile:!0}),structure:o,theme:u,hidePopup:s.closeModal,getEditorState:n,setEditorState:r,pubsub:a,t:l,isMobile:c,addPluginMenuConfig:f})},e.onClick=function(t){t.preventDefault(),t.stopPropagation(),e.props.isMobile?e.openAddPluginModal():e.togglePopup()},e.onKeyDown=function(t){switch(t.key){case"Escape":e.hidePopup()}},e.togglePopup=function(){e.state.isActive?e.hidePopup():e.showPopup()},e.showPopup=function(){e.setState({style:w(w({},e.getPopupOffset()),{},{transform:"translate(-50%) scale(1)",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)",width:e.popupRef.offsetWidth}),isActive:!0,tabIndex:0})},e.hidePopup=function(){e.setState({style:{transform:"translate(-50%) scale(0)"},isActive:!1,tabIndex:-1})},e.getPopupOffset=function(){return e.popupOffset||e.popupRef&&(e.popupOffset={left:e.popupRef.offsetWidth/2+30,right:-e.popupRef.offsetWidth/2+30}),e.popupOffset},e}k(e,t);var n=e.prototype;return n.componentDidMount=function(){window.addEventListener("click",this.onWindowClick)},n.componentWillUnmount=function(){window.removeEventListener("click",this.onWindowClick)},n.render=function(){var t,e=this,n=this.props,r=n.theme,a=n.getEditorState,u=n.setEditorState,s=n.structure,l=n.t,c=n.addPluginMenuConfig,p=n.isMobile,h=this.state.isActive,v=(r||{}).toolbarStyles,g=d()("_1guAn",v&&v.sideToolbar_floatingContainer),y=d()("_210ya",v&&v.sideToolbar_floatingIcon),m=d()("_20iMo",v&&v.sideToolbar);return o.a.createElement(i.o,{role:"toolbar",active:h,"aria-orientation":"horizontal",focusTrapOptions:{escapeDeactivates:!1,clickOutsideDeactivates:!0},className:g,onKeyDown:function(t){return e.onKeyDown(t)}},o.a.createElement("button",{"aria-label":"Plugin Toolbar","aria-pressed":h,tabIndex:"0",className:y,"data-hook":"addPluginFloatingToolbar",onClick:this.onClick,ref:function(t){return e.selectButton=t}},h?o.a.createElement(ot,null):o.a.createElement(it,null)),!Object(f.isSSR)()&&o.a.createElement(St,{elementHeight:null===(t=this.popupRef)||void 0===t?void 0:t.offsetHeight,elementMarginTop:c?-20:-15,elementMarginBottom:45,targetElement:this.selectButton},o.a.createElement((function(t){var n=t.top,r=e.state.isActive,i=39*s.length;return o.a.createElement("div",{className:m,style:w(w({},e.state.style),{},{top:n,width:c?320:i}),ref:function(t){return e.popupRef=t},onClick:function(t){return t.stopPropagation()},role:"none","data-hook":"floatingAddPluginMenu"},o.a.createElement(bt,{t:l,getEditorState:a,setEditorState:u,structure:s,hidePopup:e.hidePopup,addPluginMenuConfig:c,isMobile:p,isActive:r}))}),null)))},e}(r.Component),wt=function(t){var e=t.buttons,n=t.offset,r=t.pubsub,a=t.theme,u=t.visibilityFn,s=t.isMobile,l=t.helpers,c=t.t,f=t.displayOptions,p=t.toolbarDecorationFn,h=t.config,d=t.addPluginMenuConfig,v=a.buttonStyles,g=Y(a,["buttonStyles"]),y=w({buttonStyles:{button:v.sideToolbarButton,buttonWrapper:v.sideToolbarButton_wrapper,icon:v.sideToolbarButton_icon,label:v.sideToolbarButton_label}},g);return function(t){void 0===t&&(t={});var e=t,n=e.name,r=void 0===n?"SideToolbar":n,o=e.pubsub,a=void 0===o?Object(i.gb)({isVisible:!1}):o,u=e.theme,s=e.structure,l=void 0===s?[]:s,c=e.visibilityFn,f=e.offset,p=e.isMobile,h=e.displayOptions,d=e.toolbarDecorationFn,v=e.config;return{name:r,initialize:function(t){var e=t.setEditorState,n=t.getEditorState;a.set("getEditorState",n),a.set("setEditorState",e)},onChange:function(t){return a.set("editorState",t),t},SideToolbar:Object(i.M)(Q,{pubsub:a,structure:l,theme:u,isMobile:p,offset:f,visibilityFn:c,displayOptions:h,toolbarDecorationFn:d,config:v})}}({offset:n,theme:a,visibilityFn:u,isMobile:s,displayOptions:f,toolbarDecorationFn:p,config:h,structure:[function(t){var n=t.getEditorState,i=t.setEditorState;return o.a.createElement(Et,{getEditorState:n,setEditorState:i,theme:y,structure:e,pubsub:r,isMobile:s,helpers:l,t:c,addPluginMenuConfig:d})}]})},kt=((vt={})[i.k.NORMAL]={},vt[i.k.FLOATING]={position:"absolute"},vt),Tt=function(t){function e(e){var n;return(n=t.call(this,e)||this).onSelectionChanged=Object(s.debounce)((function(){return n.forceUpdate()}),100),n.setToolbarScrollButton=function(t,e,r){if(!n.props.isMobile){var o=e-r-(n.state.showLeftArrow||n.state.showRightArrow?20:0)>8;n.setState({showLeftArrow:o&&t===e-r,showRightArrow:o&&t<e-r})}},n.onOverrideContent=function(t){return n.setState({overrideContent:t})},n.onExtendContent=function(t){return n.setState({extendContent:t})},n.state={overrideContent:void 0,extendContent:void 0,showRightArrow:!1,showLeftArrow:!1},n.ToolbarDecoration=e.toolbarDecorationFn(),n}k(e,t);var n=e.prototype;return n.componentWillMount=function(){this.props.pubsub.subscribe("selection",this.onSelectionChanged)},n.componentWillUnmount=function(){this.props.pubsub.unsubscribe("selection",this.onSelectionChanged)},n.scrollToolbar=function(t,e){t.preventDefault();var n=this.scrollContainer,r=n.clientWidth,o=n.scrollWidth;this.scrollContainer.scrollLeft=e?0:Math.min(this.scrollContainer.scrollLeft+r,o)},n.renderToolbarContent=function(t){var e,n=this,r=this.props,a=r.theme,u=r.structure,s=r.isMobile,l=(a||{}).toolbarStyles,c=this.state,f=c.showLeftArrow,p=c.showRightArrow,h=c.overrideContent,v=f||p,g=d()("_1O9k1",l.responsiveArrow),m=d()("_1CiRG",l.responsiveArrowStart_icon),_=d()("_3KVM5",l.responsiveArrowEnd_icon),b=d()("_3v2NX",l.buttons),S=d()("_1R64m",l.scrollableContainer,((e={}).Ynekp=s,e));return t.toolbarName=i.D.FOOTER,o.a.createElement("div",{className:b},o.a.createElement(y.a,{client:!0,scroll:!0,innerRef:function(t){return n.scrollContainer=t},onResize:function(t){var e=t.scroll,r=t.client;return n.setToolbarScrollButton(e.left,e.width,r.width)}},(function(e){var n=e.measure,r=e.measureRef;return o.a.createElement("div",{className:S,ref:r,onScroll:function(){return n()}},h?o.a.createElement(h,t):u.map((function(e,n){return o.a.createElement(e,w({key:n},t))})))})),v&&o.a.createElement("button",{className:g,"data-hook":"toolbarArrow",onMouseDown:function(t){return n.scrollToolbar(t,f)}},o.a.createElement("i",{className:f?m:_})))},n.render=function(){var t=this.props,e=t.visibilityFn,n=t.pubsub;if(e&&!e(n.get("getEditorState")()))return null;var a=this.props,u=a.theme,s=a.helpers,l=a.isMobile,c=a.linkModal,f=a.anchorTarget,p=a.relValue,h=a.t,v=a.dataHook,g=a.id,y=a.offset,m=a.uiSettings,_=a.displayOptions,b=a.renderTooltips,S=a.locale,E=a.setEditorState,k=a.config,T=this.state.extendContent,O=(u||{}).toolbarStyles,x=d()("_3wCla",O.extend),C={theme:u,helpers:s,isMobile:l,linkModal:c,anchorTarget:f,relValue:p,t:h,getEditorState:n.get("getEditorState"),setEditorState:n.get("setEditorState"),onOverrideContent:this.onOverrideContent,onExtendContent:this.onExtendContent,uiSettings:m},M=y.x,B=void 0===M?0:M,I=y.y,A={style:w({left:B,top:void 0===I?0:I},kt[_.displayMode]),className:d()("_3gq3m",O.toolbar),role:"toolbar","aria-orientation":"horizontal",id:g,"data-hook":v},D=this.ToolbarDecoration?this.ToolbarDecoration:"div";if(b){var P={isMobile:l,theme:u,t:h,anchorTarget:f,relValue:p,locale:S,helpers:s,config:k,setEditorState:E};return o.a.createElement(r.Fragment,null,o.a.createElement(D,w({},A,P),this.renderToolbarContent(w(w({},C),P)),T&&o.a.createElement("div",{className:x},o.a.createElement(T,w({},C,P)))),o.a.createElement(i.H,null))}return o.a.createElement(D,A,this.renderToolbarContent(C),T&&o.a.createElement("div",{className:x},o.a.createElement(T,C)))},e}(o.a.PureComponent);Tt.defaultProps={displayOptions:{displayMode:i.k.NORMAL},toolbarDecorationFn:function(){return null}};var Ot=function(t){var e;void 0===t&&(t={});var n=Object(i.gb)(),r=t,a=r.name,u=void 0===a?"StaticToolbar":a,l=r.theme,c=r.structure,p=void 0===c?[]:c,h=r.isMobile,v=void 0!==h&&h,g=r.helpers,y=r.linkModal,m=void 0!==y&&y,_=r.anchorTarget,b=r.relValue,S=r.t,E=r.id,k=r.offset,T=r.visibilityFn,O=r.displayOptions,x=r.toolbarDecorationFn,C=r.renderTooltips,M=void 0!==C&&C,B=r.locale,I=r.setEditorState,A=r.config,D={pubsub:n,structure:p,theme:l,isMobile:v,helpers:g,linkModal:m,anchorTarget:_,relValue:b,t:S,id:E,dataHook:Object(s.camelCase)(u),offset:k,visibilityFn:T,displayOptions:O,toolbarDecorationFn:x,renderTooltips:M,locale:B,setEditorState:I,config:A},P=d()(((e={})._1RMoq=D.isMobile,e));return{name:u,initialize:function(t){var e=t.getEditorState,r=t.setEditorState;n.set("getEditorState",e),n.set("setEditorState",r)},onChange:function(t){return n.set("selection",t.getSelection()),t},Toolbar:function(t){return o.a.createElement("div",{className:P,dir:Object(f.getLangDir)(B)},o.a.createElement(Tt,w({},D,t)))}}},xt={inlineToolbarButton_wrapper:"QGwpa",inlineToolbarButton:"_3zx08",inlineToolbarButton_icon:"_2Dg1H",inlineToolbarButton_active:"_2SD0p"},Ct=function(t){function e(e){var n;(n=t.call(this,e)||this).isActive=function(){var t=n.props.isActive;return!!t&&t()},n.handleClick=function(t){var e=n.props.onClick;m.a.hide(),e&&e(t)},n.preventBubblingUp=function(t){return t.preventDefault()};var r=(e.theme||{}).buttonStyles;return n.styles=Object(f.mergeStyles)({styles:xt,theme:r}),n}return k(e,t),e.prototype.render=function(){var t,e=this.styles,n=this.props,r=n.icon,a=n.theme,u=n.isMobile,l=n.tooltipText,c=n.dataHook,f=n.tabIndex,p=n.shouldRefreshTooltips,h=!u&&!Object(s.isEmpty)(l),v=d()(e.inlineToolbarButton_icon,((t={})[e.inlineToolbarButton_active]=this.isActive(),t)),g=o.a.createElement("div",{className:e.inlineToolbarButton_wrapper,onMouseDown:this.preventBubblingUp},o.a.createElement("button",{tabIndex:f,"aria-label":l,"aria-pressed":this.isActive(),className:e.inlineToolbarButton,"data-hook":c,onClick:this.handleClick},o.a.createElement("div",{className:v},o.a.createElement(r,null))));return o.a.createElement(i.F,{theme:a,showTooltip:h,tooltipText:l,button:g,shouldRefreshTooltips:p})},e}(r.Component);Ct.defaultProps={tabIndex:0};var Mt=function(t){var e=t.alignment,n=t.Icon,a=t.tooltipTextKey;return function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).isActive=function(){return n.props.alignment===e},n.handleClick=function(){var t=n.props,r=t.onClick,o=t.getEditorState,a=t.setEditorState;r?r(e):a(Object(i.fb)(o(),e))},n}return k(r,t),r.prototype.render=function(){var t=this.props,r=t.theme,i=t.isMobile,u=t.t,s=t.tabIndex,l=t.shouldRefreshTooltips,c=u(a),f="textAlignmentButton_"+e;return o.a.createElement(Ct,{icon:n,theme:r,isMobile:i,isActive:this.isActive,onClick:this.handleClick,tooltipText:c,dataHook:f,tabIndex:s,shouldRefreshTooltips:l})},r}(r.Component)};function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var It,At=function(t){var e=t.blockTypes,n=t.Icons,a=t.InactiveIcon,u=void 0===a?null:a,s=t.tooltipTextKey;return function(t){function r(n){var r;return(r=t.call(this,n)||this).nextBlockTypeIndex=function(){var t=r.activeBlockType,n=0;if(t){var o=e.findIndex((function(e){return e===t}));n=o+1<e.length?o+1:-1}return n>-1?n:void 0},r.setBlockStyle=function(t){t.preventDefault();var e=r.props,n=e.getEditorState,o=e.setEditorState,a=r.nextBlockTypeIndex();r.setState({blockTypeIndex:a},(function(){var t=r.activeBlockType;o(i.w.toggleBlockType(n(),t))}))},r.blockTypeIsActive=function(){var t=b()(r).blockType;return void 0!==t&&t===r.activeBlockType},r.state={blockTypeIndex:void 0},r}k(r,t);var a,l,c=r.prototype;return c.componentWillReceiveProps=function(t){if(!1===this.props.isVisible&&!0===t.isVisible){var n=this.selectionBlockType,r=e.findIndex((function(t){return t===n})),o=r>-1?r:void 0;this.setState({blockTypeIndex:o})}},c.render=function(){var t=this.Icon,e=this.props,n=e.theme,r=e.isMobile,i=e.t,a=e.tabIndex,u=i(s),l="textBlockStyleButton_"+u.replace(/\s+/,"");return o.a.createElement(Ct,{icon:t,theme:n,isMobile:r,isActive:this.blockTypeIsActive,onClick:this.setBlockStyle,tooltipText:u,dataHook:l,tabIndex:a})},a=r,(l=[{key:"activeBlockType",get:function(){var t=this.state.blockTypeIndex;return void 0!==t?e[t]:"unstyled"}},{key:"selectionBlockType",get:function(){var t=this.props.getEditorState;if(!t)return!1;var e=t();return e.getCurrentContent().getBlockForKey(e.getSelection().getStartKey()).getType()}},{key:"Icon",get:function(){var t=this.state.blockTypeIndex;return void 0!==t?n[t]:u||n[0]}}])&&Bt(a.prototype,l),r}(r.Component)},Dt=function(t){var e=t.style,n=t.Icon,a=t.tooltipTextKey;return function(t){function r(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).toggleStyle=function(t){var r=n.props,o=r.getEditorState,a=r.setEditorState;t.preventDefault(),a(i.w.toggleInlineStyle(o(),e))},n.isActive=function(){var t=n.props.getEditorState;return!!t&&t().getCurrentInlineStyle().has(e)},n}return k(r,t),r.prototype.render=function(){var t=this.props,e=t.theme,r=t.isMobile,i=t.t,u=t.tabIndex,s=i(a),l="textInlineStyleButton_"+s.replace(/\s+/,"");return o.a.createElement(Ct,{icon:n,theme:e,isMobile:r,isActive:this.isActive,onClick:this.toggleStyle,tooltipText:s,dataHook:l,tabIndex:u})},r}(r.Component)},Pt={inlineToolbarDropdown_wrapper:"_2p1n_",inlineToolbarDropdown_options:"_2bRDr",inlineToolbarDropdownButton_wrapper:"MytZM",inlineToolbarDropdownButton:"_216Ce",inlineToolbarDropdownButton_icon:"_3qjP5"},zt=S(E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(o.a),a=u(g.a);function u(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handle=function(t){if("touchend"===t.type&&(n.isTouch=!0),"click"!==t.type||!n.isTouch){var e=n.props.onClickOutside,r=n.container;r&&!r.contains(t.target)&&e(t)}},n.getContainer=n.getContainer.bind(n),n.isTouch=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.a.Component),r(e,[{key:"getContainer",value:function(t){this.container=t}},{key:"render",value:function(){var t=this.props,e=t.children,r=(t.onClickOutside,function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["children","onClickOutside"]));return i.default.createElement("div",n({},r,{ref:this.getContainer}),e)}},{key:"componentDidMount",value:function(){document.addEventListener("touchend",this.handle,!0),document.addEventListener("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchend",this.handle,!0),document.removeEventListener("click",this.handle,!0)}}]),e}();s.propTypes={onClickOutside:a.default.func.isRequired},e.default=s}))),Lt=function(t){return Dt({style:"ITALIC",Icon:t||et,tooltipTextKey:"ItalicButton_Tooltip"})},Rt=function(t){return Dt({style:"UNDERLINE",Icon:t||lt,tooltipTextKey:"UnderlineButton_Tooltip"})},jt=function(t){return At({blockTypes:["indent"],Icons:[t||tt],tooltipTextKey:"IndentButton_Tooltip"})},Kt=function(t){return At({blockTypes:["blockquote"],Icons:[t||Z],tooltipTextKey:"QuoteButton_Tooltip"})},Ft=function(t){return Mt({alignment:"left",Icon:t||i.c,tooltipTextKey:"AlignTextLeftButton_Tooltip"})},Ht=function(t){return Mt({alignment:"center",Icon:t||i.e,tooltipTextKey:"AlignTextCenterButton_Tooltip"})},Nt=function(t){return Mt({alignment:"right",Icon:t||i.d,tooltipTextKey:"AlignTextRightButton_Tooltip"})},qt=function(t){return Mt({alignment:"justify",Icon:t||i.b,tooltipTextKey:"AlignTextJustifyButton_Tooltip"})},Vt=function(t){return At({blockTypes:["ordered-list-item"],Icons:[t||rt],tooltipTextKey:"OrderedListButton_Tooltip"})},Ut=function(t){return At({blockTypes:["unordered-list-item"],Icons:[t||ct],tooltipTextKey:"UnorderedListButton_Tooltip"})},Wt=function(t,e){var n=e.AlignLeft,r=e.AlignCenter,o=e.AlignRight,a=e.AlignJustify;switch(t){case"center":return r||i.e;case"right":return o||i.d;case"justify":return a||i.b;case"left":default:return n||i.c}},Gt=function(t){var e=t.AlignLeft,n=t.AlignCenter,a=t.AlignRight,u=t.AlignJustify;return function(t){var e=t.buttons,n=t.activeItem,a=t.onChange,u=t.tooltipTextKey;return function(t){function r(r){var i;(i=t.call(this,r)||this).showOptions=function(){return i.setState({isOpen:!0})},i.renderOptions=function(){var t,r=i.props,u=r.getEditorState,s=r.setEditorState,l=i.state,c=l.selected,f=l.isOpen,p=Object.keys(c).filter((function(t){return"Icon"!==t}))[0],h=w(w(((t={})[p]=c[p],t.onClick=function(t){a(u,s,t),i.setState({selected:n({value:t}),isOpen:!1})},t),i.props),{},{theme:i.theme,shouldRefreshTooltips:function(){return f}});return o.a.createElement(zt,{onClickOutside:function(){return i.setState({isOpen:!1})},className:i.styles.inlineToolbarDropdown_options},e.map((function(t,e){return o.a.createElement(t,w({key:e,tabIndex:"0"},h))})))};var u=i.props,s=u.defaultTextAlignment,l=u.getEditorState;i.state={isOpen:!1,selected:n({getEditorState:l,defaultValue:s})};var c=r.theme||{};return i.theme=w(w({},c),{},{buttonStyles:{inlineToolbarButton_wrapper:d()(Pt.inlineToolbarDropdownButton_wrapper,c&&c.inlineToolbarDropdownButton_wrapper),inlineToolbarButton:d()(Pt.inlineToolbarDropdownButton,c&&c.inlineToolbarDropdownButton),inlineToolbarButton_icon:d()(Pt.inlineToolbarDropdownButton_icon,c&&c.inlineToolbarDropdownButton_icon),inlineToolbarButton_active:d()(Pt.inlineToolbarButton_active,c&&c.inlineToolbarDropdownButton_active)}}),i.styles=Object(f.mergeStyles)({styles:Pt,theme:i.theme}),i}k(r,t);var s=r.prototype;return s.componentWillReceiveProps=function(t){!0===this.props.isVisible&&!1===t.isVisible&&this.setState({isOpen:!1})},s.render=function(){var t=this.state,e=t.selected.Icon,n=t.isOpen,r=this.props,a=r.isMobile,s=r.tabIndex,l=(0,r.t)(u),c="textDropDownButton_"+l.replace(/\s+/,"");return o.a.createElement(i.G,{content:l,moveBy:{y:-20}},o.a.createElement("div",{className:this.styles.inlineToolbarDropdown_wrapper},o.a.createElement(Ct,{icon:e,theme:this.theme,isMobile:a,dataHook:c,onClick:this.showOptions,tabIndex:s}),n&&this.renderOptions()))},r}(r.PureComponent)}({buttons:[Ft(e),Ht(n),Nt(a),qt(u)],activeItem:function(e){var n=e.getEditorState,r=e.value,o=e.defaultValue,a=r||Object(i.U)(n(),o);return{alignment:a,Icon:Wt(a,t)}},onChange:function(t,e,n){e(Object(i.fb)(t(),n))},tooltipTextKey:"AlignTextDropdownButton_Tooltip"})},Jt=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).handleClick=function(){return e.openAddPluginModal()},e.openAddPluginModal=function(){var t=e.props,n=t.getEditorState,r=t.setEditorState,o=t.structure,a=t.pubsub,u=t.theme,s=t.t,l=t.isMobile,c=t.addPluginMenuConfig;e.props.openModal({modalName:i.m.MOBILE_ADD_PLUGIN,modalStyles:Object(i.S)({fullScreen:!1,isMobile:!0,stickyButtomMobile:!0}),structure:o.map((function(t){var e=t.component,n=t.buttonSettings;return{component:e,name:n.name,section:n.section||"BlockToolbar_Section_Basic"}})),theme:u,hidePopup:e.props.closeModal,getEditorState:n,setEditorState:r,pubsub:a,t:s,isMobile:l,addPluginMenuConfig:c})},e}return k(e,t),e.prototype.render=function(){var t=this.props.theme;return o.a.createElement(Ct,{icon:it,theme:t,dataHook:"addPluginButton",onClick:this.handleClick})},e}(r.Component),Xt=[["Bold","Italic","Underline","Title","Blockquote"],["Alignment","OrderedList","UnorderedList"]],Yt=[["AddPlugin","Bold","Italic","Underline","Title","Blockquote","AlignLeft","AlignCenter","AlignRight","AlignJustify","OrderedList","UnorderedList"]],Qt=function(t){var e,n,r,o,a,u,s=t.buttons,l=t.theme,c=t.t,p=t.isMobile,h=t.textPluginButtons,d=void 0===h?{}:h,v=t.uiSettings,g=t.config,y=function(t){return function(t){var e=t.theme,n=t.horizontal,r={name:"Separator",horizontal:void 0!==n&&n},o=(void 0===e?{}:e).separatorStyles;return o&&o.inlineToolbarSeparator&&(r.className=o.inlineToolbarSeparator),o&&o.separator&&(r.className=o.separator),Object(i.M)(i.y,r)}({theme:l,horizontal:t})},m=null==g||null===(e=g.getToolbarSettings)||void 0===e?void 0:e.call(g,{}).find((function(t){return t.name===i.D.TEXT})),_=(null==m||null===(n=m.getIcons)||void 0===n?void 0:n.call(m))||{},b={Bold:(u=_.Bold,Dt({style:"BOLD",Icon:u||$,tooltipTextKey:"BoldButton_Tooltip"})),Italic:Lt(_.Italic),Underline:Rt(_.Underline),Indent:jt(_.Indent),Title:(r=_.inactiveIconTitle,o=_.TitleOne,a=_.TitleTwo,At({blockTypes:[f.HEADER_BLOCK.TWO,f.HEADER_BLOCK.THREE],Icons:[o||ut,a||st],InactiveIcon:r||at,tooltipTextKey:"TitleButton_Tooltip"})),Blockquote:Kt(_.Blockquote),Alignment:Gt(_),AlignLeft:Ft(_.AlignLeft),AlignCenter:Ht(_.AlignCenter),AlignRight:Nt(_.AlignRight),AlignJustify:qt(_.AlignJustify),OrderedList:Vt(_.OrderedList),UnorderedList:Ut(_.UnorderedList),Separator:y(!1),HorizontalSeparator:y(!0)},S=w(w({},b),d);return s.map((function(t){return S[t]})).filter((function(t){return void 0!==t})).map((function(t){return Object(i.M)(t,{t:c,isMobile:p,uiSettings:v,config:g})}))},Zt=function(t,e){return void 0===e&&(e=function(){return!0}),t.reduce((function(t,n,r){if(n){var o=Object.keys(n).reduce((function(t,o){var i;return e(n[o])?w(w({},t),{},((i={})[o+"_"+r]=n[o].component,i)):t}),{});return w(w({},t),o)}return t}),{})},$t=function(t,e){return void 0===e&&(e=function(){return!0}),t.reduce((function(t,n,r){if(n){var o=Object.keys(n).reduce((function(t,o){return e(n[o])?[].concat(t,[{name:o+"_"+r,position:n[o].position,group:n[o].group}]):t}),[]);return[].concat(t,o)}return t}),[])},te={buttonName:"Separator"},ee=function(t,e){return t.position-e.position},ne=function(t,e,n,r){(function(t,e){return!t[e]})(r,n)&&r.push([]),r[n].push({buttonName:t,position:e,groupIndex:n})},re=function(t,e,n){void 0===n&&(n="desktop");var r=function(t,e,n){var r=[];return t.forEach((function(t,e){t.forEach((function(t,n){ne(t,n,e,r)}))})),e.forEach((function(e){var o,i,a,u,s=null!=(o=null===(i=e.group)||void 0===i?void 0:i[n])?o:t.length,l=null!=(a=null===(u=e.position)||void 0===u?void 0:u[n])?a:100;ne(e.name,l,s,r)})),r}(t,e,n);r.forEach((function(t){return t.sort(ee)})),"desktop"===n&&function(t){t.forEach((function(t,e){e!==t.length-1&&t.push(te)}))}(r);var o=[];return r.forEach((function(t){t.forEach((function(t){o=[].concat(o,[t.buttonName])}))})),o},oe=function(t){return"static_text_toolbar_"+t},ie={textToolbar:"_30_nC",textToolbar_scrollableContainer:"Bvr-H"},ae=function(t){var e=t.buttons,n=t.textPluginButtons,r=t.pubsub,o=t.theme,i=t.isMobile,a=t.helpers,u=t.anchorTarget,s=t.relValue,l=t.t,c=t.refId,f=t.offset,p=t.visibilityFn,h=t.displayOptions,v=t.uiSettings,g=t.toolbarDecorationFn,y=t.config,m=t.locale,_=t.setEditorState,b=function(t){var e=t||{},n=e.toolbarStyles,r=e.buttonStyles,o=e.separatorStyles,i=Y(e,["toolbarStyles","buttonStyles","separatorStyles"]);return w({toolbarStyles:{toolbar:d()(ie.textToolbar,n&&n.textToolbar),scrollableContainer:d()(ie.textToolbar_scrollableContainer,n&&n.textToolbar_scrollableContainer),buttons:d()(ie.textToolbar_buttons,n&&n.textToolbar_buttons),extend:d()(ie.textToolbar_extend,n&&n.textToolbar_extend),responsiveSpacer:ie.textToolbar_responsiveSpacer,responsiveArrow:d()(ie.textToolbar_responsiveArrow,n&&n.textToolbar_responsiveArrow),responsiveArrowStart:d()(ie.textToolbar_responsiveArrowStart,n&&n.textToolbar_responsiveArrowStart),responsiveArrowEnd:d()(ie.textToolbar_responsiveArrowEnd,n&&n.textToolbar_responsiveArrowEnd),responsiveArrowStart_icon:d()(ie.textToolbar_responsiveArrowStart_icon,n&&n.textToolbar_responsiveArrowStart_icon),responsiveArrowEnd_icon:d()(ie.textToolbar_responsiveArrowEnd_icon,n&&n.textToolbar_responsiveArrowEnd_icon)},buttonStyles:{inlineToolbarButton_wrapper:r&&r.textToolbarButton_wrapper,inlineToolbarButton:r&&r.textToolbarButton,inlineToolbarButton_icon:r&&r.textToolbarButton_icon},separatorStyles:{separator:d()("J-smu",o&&o.textToolbarSeparator)}},i)}(o),S=Qt({buttons:e,textPluginButtons:n,pubsub:r,theme:b,t:l,uiSettings:v,config:y,isMobile:i}),E=oe(c);return Ot({name:"StaticTextToolbar",structure:S,pubsub:r,theme:b,isMobile:i,helpers:a,linkModal:!0,anchorTarget:u,relValue:s,t:l,id:E,offset:f,visibilityFn:p,displayOptions:h,uiSettings:v,toolbarDecorationFn:g,renderTooltips:!0,locale:m,setEditorState:_,config:y})},ue={mobileToolbar:"_2jHVo"},se={mobileToolbarButton_wrapper:"h9v9v",mobileToolbarButton:"_1CJem",mobileToolbarButton_icon:"_3Xm-h"},le={mobileToolbarSeparator:"_35q1X"},ce=function(t){var e=t.buttons,n=t.textPluginButtons,r=t.pluginButtons,o=t.helpers,i=t.pubsub,a=t.getEditorState,u=t.setEditorState,s=t.anchorTarget,l=t.relValue,c=t.theme,f=t.t,p=t.offset,h=t.visibilityFn,d=t.uiSettings,v=t.displayOptions,g=t.toolbarDecorationFn,y=t.config,m=t.locale,_=t.addPluginMenuConfig,b=fe(c);return Ot({helpers:o,t:f,name:"MobileToolbar",theme:b,structure:pe({buttons:e,textPluginButtons:n,pluginButtons:r,helpers:o,pubsub:i,getEditorState:a,setEditorState:u,mobileTheme:b,t:f,uiSettings:d,config:y,addPluginMenuConfig:_}),anchorTarget:s,relValue:l,isMobile:!0,offset:p,visibilityFn:h,uiSettings:d,displayOptions:v,toolbarDecorationFn:g,locale:m})},fe=function(t){var e=t||{},n=e.toolbarStyles,r=e.buttonStyles,o=e.separatorStyles,i=Y(e,["toolbarStyles","buttonStyles","separatorStyles"]),a=Object(f.mergeStyles)({styles:ue,theme:n}),u=Object(f.mergeStyles)({styles:se,theme:r}),s=Object(f.mergeStyles)({styles:le,theme:o});return w({toolbarStyles:{toolbar:d()(a.mobileToolbar,a.mobileToolbar_fixed),scrollableContainer:a.mobileToolbar_scrollableContainer,buttons:a.mobileToolbar_buttons,extend:a.mobileToolbar_extend,responsiveSpacer:a.mobileToolbar_responsiveSpacer,responsiveArrow:a.mobileToolbar_responsiveArrow,responsiveArrowStart:a.mobileToolbar_responsiveArrowStart,responsiveArrowEnd:a.mobileToolbar_responsiveArrowEnd,responsiveArrowStart_icon:a.mobileToolbar_responsiveArrowStart_icon,responsiveArrowEnd_icon:a.mobileToolbar_responsiveArrowEnd_icon},buttonStyles:{inlineToolbarButton_wrapper:u.mobileToolbarButton_wrapper,inlineToolbarButton:u.mobileToolbarButton,inlineToolbarButton_icon:u.mobileToolbarButton_icon},separatorStyles:{separator:s.mobileToolbarSeparator}},i)},pe=function(t){var e=t.buttons,n=t.textPluginButtons,r=t.pluginButtons,o=t.helpers,a=t.pubsub,u=t.getEditorState,s=t.setEditorState,l=t.mobileTheme,c=t.t,f=t.uiSettings,p=t.config,h=t.addPluginMenuConfig,d=e.findIndex((function(t){return"AddPlugin"===t}));-1!==d&&e.splice(d,1);var v=Qt({buttons:e,textPluginButtons:n,theme:l,isMobile:!0,t:c,uiSettings:f,config:p});return-1!==d&&r&&r.length&&v.splice(d,0,Object(i.M)(Jt,{openModal:o.openModal,closeModal:o.closeModal,structure:r.filter((function(t){var e=t.buttonSettings;return"UndoPlugin_InsertButton"!==e.name&&"RedoPlugin_InsertButton"!==e.name})),getEditorState:u,setEditorState:s,pubsub:a,t:c,theme:l,addPluginMenuConfig:h})),v},he={footerToolbar:"tfFfS",footerToolbar_buttons:"_2E527",footerToolbar_scrollableContainer:"_18O3S"},de=function(t){var e=t.buttons,n=t.theme,r=t.offset,o=t.visibilityFn,i=t.displayOptions,a=t.toolbarDecorationFn,u=function(t){var e=t||{},n=e.toolbarStyles,r=e.buttonStyles,o=e.separatorStyles,i=Y(e,["toolbarStyles","buttonStyles","separatorStyles"]);return w({toolbarStyles:{toolbar:d()(he.footerToolbar,n&&n.footerToolbar),scrollableContainer:d()(he.footerToolbar_scrollableContainer,n&&n.footerToolbar_scrollableContainer),buttons:d()(he.footerToolbar_buttons,n&&n.footerToolbar_buttons),extend:d()(he.footerToolbar_extend,n&&n.footerToolbar_extend),responsiveArrow:d()(he.footerToolbar_responsiveArrow,n&&n.footerToolbar_responsiveArrow),responsiveArrowStart:d()(he.footerToolbar_responsiveArrowStart,n&&n.footerToolbar_responsiveArrowStart),responsiveArrowEnd:d()(he.footerToolbar_responsiveArrowEnd,n&&n.footerToolbar_responsiveArrowEnd),responsiveArrowStart_icon:d()(he.footerToolbar_responsiveArrowStart_icon,n&&n.footerToolbar_responsiveArrowStart_icon),responsiveArrowEnd_icon:d()(he.footerToolbar_responsiveArrowEnd_icon,n&&n.footerToolbar_responsiveArrowEnd_icon)},buttonStyles:{buttonWrapper:r&&r.footerToolbarButton_wrapper,button:r&&r.footerToolbarButton,icon:r&&r.footerToolbarButton_icon},separatorStyles:{separator:o&&o.footerToolbarSeparator}},i)}(n);return Ot({name:"FooterToolbar",theme:u,structure:e,offset:r,visibilityFn:o,displayOptions:i,toolbarDecorationFn:a})},ve=w(w({},{inlineToolbar:"_3gNw0",inlineToolbar_buttons:"XRwO7",inlineToolbar_overrideContent:"_2FzZ3",inlineToolbar_scrollableContainer:"kNBS9",mobile:"_1rx-k",inlineToolbar_extend:"IkLgS",inlineToolbar_responsiveSpacer:"vPypx",inlineToolbar_responsiveArrow:"_1T4Oc"}),{inlineToolbar_responsiveArrow:"_3GHWr",inlineToolbar_responsiveArrowStart_icon:"_2HUZx",inlineToolbar_responsiveArrowEnd_icon:"_3Tew2"}),ge=((It={})[i.k.NORMAL]={},It[i.k.FLOATING]={position:"absolute"},It),ye=function(t){function e(e){var n;(n=t.call(this,e)||this).onOverrideContent=function(t){n.setState({overrideContent:t})},n.onExtendContent=function(t){return n.setState({extendContent:t})},n.setKeepOpen=function(t){return n.setState({keepOpen:t})},n.onClickOutside=function(){(n.state.overrideContent||n.state.extendContent)&&n.setState({overrideContent:null,extendContent:null})},n.onSelectionChanged=Object(s.debounce)((function(){if(n.setState({isVisible:n.shouldBeVisible()}),n.toolbar&&!n.state.overrideContent&&!n.state.extendContent&&n.props.displayOptions.displayMode===i.k.NORMAL&&!n.state.keepOpen){var t=n.getRelativePosition(),e=t.top,r=t.left;n.setState({position:{"--offset-top":e+"px","--offset-left":r+"px"}})}}),40),n.getTabIndexByVisibility=function(){return n.isVisible()?0:-1},n.shouldBeVisible=function(){var t=n.props,e=t.pubsub,r=t.visibilityFn,o=n.state,i=o.overrideContent,a=o.extendContent,u=o.keepOpen,s=!1;return r&&(s=r(e.get("getEditorState")())),s||i||a||u},n.isVisible=function(){return n.state.isVisible},n.handleToolbarRef=function(t){n.toolbar=t},n.setToolbarScrollButton=function(t,e,r){if(!n.props.isMobile){var o=e-r-(n.state.showLeftArrow||n.state.showRightArrow?20:0)>8;n.setState({showLeftArrow:o&&t===e-r,showRightArrow:o&&t<e-r})}};var r,o=e.offset;return e.displayOptions.displayMode===i.k.FLOATING&&(r={"--offset-top":o.y+"px","--offset-left":o.x+"px"}),n.state={position:r,overrideContent:void 0,extendContent:void 0,showRightArrow:!1,showLeftArrow:!1},n.ToolbarDecoration=e.toolbarDecorationFn(),n}k(e,t);var n=e.prototype;return n.componentWillMount=function(){this.props.pubsub.subscribe("selection",this.onSelectionChanged)},n.componentWillUnmount=function(){this.props.pubsub.unsubscribe("selection",this.onSelectionChanged)},n.getRelativePosition=function(){var t,e=function t(e){return e?"static"!==window.getComputedStyle(e).getPropertyValue("position")?e:t(e.parentElement):null}(this.toolbar.parentElement),n=this.toolbar.clientWidth/2,r=this.toolbar.clientHeight,o=(e||document.body).getBoundingClientRect(),a=Object(i.W)(window);if(!a)return{top:0,left:0};t=this.props.isMobile?a.bottom-o.top+5:a.top-o.top-r-5;var u=a.left-o.left+a.width/2-n;return a.left-o.left<n?u=0:u+this.toolbar.clientWidth>o.width&&(u=o.width-this.toolbar.clientWidth),{top:t+=this.props.offset.y,left:u+=this.props.offset.x}},n.getStyle=function(){var t=this.props.displayOptions,e=this.state.position,n={visibility:this.isVisible()?"visible":"hidden",transform:this.isVisible()?"scale(1)":"scale(0)"};return w(w(w({},e),n),ge[t.displayMode])},n.scrollToolbar=function(t,e){t.preventDefault();var n=this.scrollContainer,r=n.clientWidth,o=n.scrollWidth;this.scrollContainer.scrollLeft=e?0:Math.min(this.scrollContainer.scrollLeft+r,o)},n.renderToolbarContent=function(){var t,e,n=this,r=this.props,i=r.theme,a=r.pubsub,u=r.structure,s=r.defaultTextAlignment,l=r.helpers,c=r.isMobile,p=r.anchorTarget,h=r.relValue,v=r.t,g=r.locale,m=this.state,_=m.showLeftArrow,b=m.showRightArrow,S=m.overrideContent,E=m.extendContent,k=this.isVisible()?0:-1,T=this.getStyle(),O=_||b,x=(i||{}).toolbarStyles,C=d()(ve.inlineToolbar_buttons,x&&x.inlineToolbar_buttons,((t={})[ve.inlineToolbar_overrideContent]=!!S,t[x.inlineToolbar_overrideContent]=!!S,t)),M=d()(ve.inlineToolbar_extend,x&&x.inlineToolbar_extend),B=d()(ve.inlineToolbar_scrollableContainer,x&&x.inlineToolbar_scrollableContainer,((e={})[ve.mobile]=c,e)),I=d()(ve.inlineToolbar_responsiveArrow,x.inlineToolbar_responsiveArrow),A=d()(ve.inlineToolbar_responsiveArrowStart_icon,x.responsiveArrowStart_icon),D=d()(ve.inlineToolbar_responsiveArrowEnd_icon,x.responsiveArrowEnd_icon),P={theme:i,getEditorState:a.get("getEditorState"),setEditorState:a.get("setEditorState"),onOverrideContent:this.onOverrideContent,onExtendContent:this.onExtendContent,setKeepOpen:this.setKeepOpen,defaultTextAlignment:s,isVisible:"visible"===T.visibility,isMobile:c,helpers:l,anchorTarget:p,relValue:h,t:v,tabIndex:k};return o.a.createElement(zt,{onClickOutside:this.onClickOutside},o.a.createElement("div",{className:C,dir:Object(f.getLangDir)(g)},o.a.createElement(y.a,{client:!0,scroll:!0,innerRef:function(t){return n.scrollContainer=t},onResize:function(t){var e=t.scroll,r=t.client;return n.setToolbarScrollButton(e.left,e.width,r.width)}},(function(t){var e=t.measure,n=t.measureRef;return o.a.createElement("div",{className:B,ref:n,onScroll:function(){return e()}},S?o.a.createElement(S,P):u.map((function(t,e){return o.a.createElement(t,w({key:e},P))})))})),O&&o.a.createElement("button",{tabIndex:k,className:I,"data-hook":"inlineToolbarRightArrow",onMouseDown:function(t){return n.scrollToolbar(t,_)}},o.a.createElement("i",{className:_?A:D}))),E&&o.a.createElement("div",{className:M},o.a.createElement(E,P)))},n.render=function(){if(!1===this.isVisible())return null;var t=(this.props.theme||{}).toolbarStyles,e={className:d()(ve.inlineToolbar,t&&t.inlineToolbar),style:this.getStyle(),tabIndex:this.isVisible()?0:-1,role:"toolbar","aria-orientation":"horizontal","data-hook":"inlineToolbar"};if(this.ToolbarDecoration){var n=this.ToolbarDecoration;return o.a.createElement(n,w({refCallback:this.handleToolbarRef},e),this.renderToolbarContent())}return o.a.createElement("div",w({ref:this.handleToolbarRef},e),this.renderToolbarContent())},e}(r.Component);ye.defaultProps={displayOptions:{displayMode:i.k.NORMAL},offset:{x:0,y:0},toolbarDecorationFn:function(){return null}};var me=function(t){var e=t.buttons,n=t.textPluginButtons,r=t.defaultTextAlignment,o=t.pubsub,a=t.theme,u=t.isMobile,s=t.helpers,l=t.anchorTarget,c=t.relValue,f=t.t,p=t.offset,h=t.visibilityFn,d=t.displayOptions,v=t.uiSettings,g=t.toolbarDecorationFn,y=t.config,m=t.locale;return function(t){void 0===t&&(t={});var e=t,n=e.name,r=void 0===n?"InlineToolbar":n,o=e.pubsub,a=void 0===o?Object(i.gb)():o,u=e.defaultTextAlignment,s=e.theme,l=e.structure,c=void 0===l?[]:l,f=e.isMobile,p=void 0!==f&&f,h=e.helpers,d=e.anchorTarget,v=e.relValue,g=e.t,y=e.offset,m=e.visibilityFn,_=e.displayOptions,b=e.toolbarDecorationFn,S=e.locale;return{name:r,initialize:function(t){var e=t.getEditorState,n=t.setEditorState;a.set("getEditorState",e),a.set("setEditorState",n)},onChange:function(t){return a.set("selection",t.getSelection()),t},InlineToolbar:Object(i.M)(ye,{pubsub:a,structure:c,defaultTextAlignment:u,theme:s,isMobile:p,helpers:h,anchorTarget:d,relValue:v,t:g,offset:y,visibilityFn:m,displayOptions:_,toolbarDecorationFn:b,locale:S})}}({name:"InlineTextToolbar",structure:Qt({buttons:e,textPluginButtons:n,pubsub:o,theme:a,t:f,uiSettings:v,config:y,isMobile:u}),defaultTextAlignment:r,pubsub:o,theme:a,isMobile:u,helpers:s,anchorTarget:l,relValue:c,t:f,offset:p,visibilityFn:h,displayOptions:d,uiSettings:v,toolbarDecorationFn:g,locale:m})},_e=function(t){var e=t.getSelection();return!e.isCollapsed()&&e.getHasFocus()},be=function(t){var e=t.getSelection(),n=t.getCurrentContent().getBlockForKey(e.getStartKey()).getType();return"atomic"!==n&&"code-block"!==n},Se={desktop:{displayMode:i.k.NORMAL},mobile:{ios:{displayMode:i.k.NORMAL},android:{displayMode:i.k.NORMAL}}},Ee={desktop:function(){return null},mobile:{ios:function(){return null},android:function(){return null}}},we={desktop:{x:0,y:0},mobile:{ios:{x:0,y:0},android:{x:0,y:0}}},ke={desktop:{},mobile:{ios:{},android:{}}},Te=function(t,e,n){return t+"-"+e+"-"+n};function Oe(t){var e,n,r="";if(t)if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Oe(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(n=Oe(e))&&(r&&(r+=" "),r+=n);else"boolean"==typeof t||t.call||(r&&(r+=" "),r+=t);return r}function xe(t){var e,n,r,o,i,u=(e=t.getCurrentContent(),n=t.getSelection(),r=new a.ContentBlock({key:Object(a.genKey)(),type:"unstyled",text:"",characterList:L()}),o=n.getStartKey(),i=[],e.getBlockMap().forEach((function(t,e){i.push(t),e===o&&i.push(r)})),e.merge({blockMap:a.BlockMapBuilder.createFromArray(i),selectionBefore:n,selectionAfter:n.merge({anchorKey:r.getKey(),anchorOffset:r.getLength(),focusKey:r.getKey(),focusOffset:r.getLength(),isBackward:!1})})),s=u.merge({selectionAfter:u.getSelectionAfter().set("hasFocus",!0)});return a.EditorState.push(t,s,"insert-fragment")}var Ce=function(t,e,n,r){var o=t(),i=o.getSelection().getAnchorKey(),u="up"===n?o.getCurrentContent().getBlockBefore(i):o.getCurrentContent().getBlockAfter(i);if((!u||u.get("key")!==i)&&u){var s=Te(u.getKey(),0,0),l=document.querySelectorAll('[data-offset-key="'.concat(s,'"]'))[0],c=window.getSelection(),f=document.createRange();f.setStart(l,0),f.setEnd(l,0),c.removeAllRanges(),c.addRange(f);var p="up"===n?u.getLength():0;r.preventDefault(),e(a.EditorState.forceSelection(o,new a.SelectionState({anchorKey:u.getKey(),anchorOffset:p,focusKey:u.getKey(),focusOffset:p,isBackward:!1})))}},Me=function(t,e,n){var r=t(),o=Te(n.getKey(),0,0),i=document.querySelectorAll('[data-offset-key="'.concat(o,'"]'))[0],u=window.getSelection(),s=document.createRange();s.setStart(i,0),s.setEnd(i,0),u.removeAllRanges(),u.addRange(s),e(a.EditorState.forceSelection(r,new a.SelectionState({anchorKey:n.getKey(),anchorOffset:0,focusKey:n.getKey(),focusOffset:0,isBackward:!1})))};function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ae(){return(Ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?ze(t):e}var Re=function(t){var e=t.theme,n=t.blockKeyStore;return function(t){var i,a;return a=i=function(i){function a(){var t,e;Be(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ie(ze(e=Le(this,(t=De(a)).call.apply(t,[this].concat(r)))),"onClick",(function(t){t.preventDefault(),e.props.blockProps.isFocused||e.props.blockProps.setFocusToBlock()})),e}var u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(a,r.Component),(u=[{key:"componentDidMount",value:function(){n.add(this.props.block.getKey())}},{key:"componentWillUnmount",value:function(){n.remove(this.props.block.getKey())}},{key:"render",value:function(){var n=this.props,r=n.blockProps,i=function(){for(var t,e=0,n="";e<arguments.length;)(t=Oe(arguments[e++]))&&(n&&(n+=" "),n+=t);return n}(n.className,r.isFocused?e.focused:e.unfocused);return o.a.createElement(t,Ae({},this.props,{onClick:this.onClick,className:i}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(a.prototype,u),a}(),Ie(i,"displayName","BlockFocus(".concat(function(t){var e=t.WrappedComponent||t;return e.displayName||e.name||"Component"}(t),")")),Ie(i,"WrappedComponent",t.WrappedComponent||t),a}},je=function(){var t=L();return{add:function(e){return t=t.push(e)},remove:function(e){return t=t.filter((function(t){return t!==e}))},includes:function(e){return t.includes(e)},getAll:function(){return t}}},Ke=function(t,e,n){return t.getBlockMap().keySeq().skipUntil((function(t){return t===e})).takeUntil((function(t){return t===n})).concat([n])},Fe=function(t,e){return function(t){var e=t.getSelection(),n=t.getCurrentContent();return Ke(n,e.getStartKey(),e.getEndKey())}(t).includes(e)};function He(t,e){var n=t.getCurrentContent(),r=n.getKeyBefore(e),o=n.getBlockForKey(r);if(void 0===o){var i=new a.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:1});n=a.Modifier.removeRange(n,i,"backward"),n=a.Modifier.setBlockType(n,i,"unstyled");var u=a.EditorState.push(t,n,"remove-block"),s=new a.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0});return a.EditorState.forceSelection(u,s)}var l=new a.SelectionState({anchorKey:r,anchorOffset:o.getLength(),focusKey:e,focusOffset:1});n=a.Modifier.removeRange(n,l,"backward");var c=a.EditorState.push(t,n,"remove-block"),f=new a.SelectionState({anchorKey:r,anchorOffset:o.getLength(),focusKey:r,focusOffset:o.getLength()});return a.EditorState.forceSelection(c,f)}var Ne={unfocused:"u1tbkpvz",focused:"flv743z"},qe=function(t,e){var n=t.getSelection();if(n.getAnchorKey()!==n.getFocusKey())return!1;var r=t.getCurrentContent().getBlockForKey(n.getAnchorKey());return e.includes(r.getKey())},Ve=["backspace","backspace-word","backspace-to-start-of-line","delete","delete-word","delete-to-end-of-block"],Ue={resizeHandleR:"_3PaWO",resizeHandleL:"_2PdJ9"},We=function(t,e){return Math.ceil(t/e)*e},Ge=function(t){var e=t.config,n=t.store;return function(t){var i,a;return a=i=function(r){function i(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=r.call.apply(r,[this].concat(i))||this).state={hoverPosition:{},clicked:!1},t.updateEntityData=function(e,n){var r=t.props.blockProps,o=r.setData,i=(0,r.getData)();o(w(w({},i),{},{config:w(w({},i.config),{},{width:e,height:n})}))},t.mouseLeave=function(){t.state.clicked||t.setState({hoverPosition:{}})},t.getDataConfig=function(){var e;return(null===(e=t.props.blockProps.getData())||void 0===e?void 0:e.config)||{}},t.mouseMove=function(n){var r=t.props,o=r.vertical,i=r.horizontal,a=t.getDataConfig(),u=a.size,s=a.alignment,l=t.state.hoverPosition,f=c.a.findDOMNode(b()(t)).getBoundingClientRect(),p=n.clientX-f.left,h=n.clientY-f.top,d=!(!o||"auto"===o)&&h<6,v=!!i&&p<6,g=!!i&&p>=f.width-6,y=!(!o||"auto"===o)&&h>=f.height-6&&h<f.height,m={isTop:d,isLeft:v=v&&"left"!==s&&"fullWidth"!==u&&!e.isMobile,isRight:g=g&&"right"!==s&&"fullWidth"!==u&&!e.isMobile,isBottom:y,canResize:d||v||g||y};Object.keys(m).filter((function(t){return l[t]!==m[t]})).length&&t.setState({hoverPosition:m})},t.mouseDown=function(e){if(t.state.hoverPosition.canResize){e.preventDefault();var r=t.props,o=r.resizeSteps,i=r.vertical,a=r.horizontal,u=t.state.hoverPosition,s=u.isTop,l=u.isLeft,f=u.isRight,p=u.isBottom,h=c.a.findDOMNode(b()(t)),d=e.clientX,v=e.clientY,g=parseInt(document.defaultView.getComputedStyle(h).width,10),y=parseInt(document.defaultView.getComputedStyle(h).height,10),m=function(e){var r=g+(l?d-e.clientX:e.clientX-d),u=y+e.clientY-v,c=n.getEditorRef(),h=c.refs.editor?c.refs.editor:c.editor;r=Math.min(h.clientWidth,r),u=Math.min(h.clientHeight,u);var m=100/h.clientWidth*r,_=100/h.clientHeight*u,b={};(l||f)&&"relative"===a?(b.width=o?We(m,o):m,b.width=Math.max(m,t.props.minWidth)):(l||f)&&"absolute"===a&&(b.width=o?We(r,o):r,b.width=Math.max(r,t.props.minWidth)),(s||p)&&"relative"===i?(b.height=o?We(_,o):_,b.height=Math.max(_,t.props.minHeight)):(s||p)&&"absolute"===i&&(b.height=o?We(u,o):u,b.height=Math.max(u,t.props.minHeight)),e.preventDefault(),t.setState(b)};document.addEventListener("mousemove",m,!1),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",m,!1),document.removeEventListener("mouseup",e,!1);var n=t.state,r=n.width,o=n.height;t.setState({clicked:!1}),t.updateEntityData(r,o)}),!1),t.setState({clicked:!0})}},t}return k(i,r),i.prototype.render=function(){var n,r=this,i=this.props,a=i.blockProps,u=i.vertical,s=i.horizontal,l=i.style,c=(i.resizeSteps,Y(i,["blockProps","vertical","horizontal","style","resizeSteps"])),p=this.getDataConfig(),h=p.size,v=p.alignment,g=this.state,y=g.width,m=void 0===y?this.getDataConfig().width:y,_=g.height,b=void 0===_?this.getDataConfig().height:_,S=g.hoverPosition,E=S.isTop,k=S.isLeft,T=S.isRight,O=S.isBottom,x=w({position:"relative"},l);this.mergedStyles=this.mergedStyles||Object(f.mergeStyles)({styles:Ue,theme:e.theme}),"auto"===s?x.width="auto":"relative"===s?x.width=(m||this.props.minWidth)+"%":"absolute"===s&&(x.width=(m||this.props.minWidth)+"px"),"auto"===u?x.height="auto":"relative"===u?x.height=(b||this.props.minHeight)+"%":"absolute"===u&&(x.height=(b||this.props.minHeight)+"px"),x.cursor=T&&O||k&&E?"nwse-resize":T&&E||O&&k?"nesw-resize":T||k?"ew-resize":O||E?"ns-resize":"default";var C=d()(((n={})[this.mergedStyles.resizeHandleR]="right"!==v&&"fullWidth"!==h&&!e.isMobile,n[this.mergedStyles.resizeHandleL]="left"!==v&&"fullWidth"!==h&&!e.isMobile,n)),M={onMouseDown:this.mouseDown,onMouseMove:this.mouseMove,onMouseLeave:this.mouseLeave,width:this.state.width||this.props.minWidth,containerClassName:C};return o.a.createElement(t,w({},c,M,{blockProps:a,ref:function(t){r.wrapper=t},style:x}))},i}(r.Component),i.displayName="Resizable("+function(t){var e=t.WrappedComponent||t;return e.displayName||e.name||"Component"}(t)+")",i.WrappedComponent=t.WrappedComponent||t,i.defaultProps=w({horizontal:"relative",vertical:!1,resizeSteps:1,minHeight:40,minWidth:40},e),a}},Je=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:" ",s=t.getCurrentContent(),l=e,c=u.a.Modifier.removeRange(s,l,"backward"),f=c.getSelectionAfter(),p=f.get("focusKey"),h=s.getBlockForKey(p),d=void 0,v=void 0,g=0===h.getLength()&&null===h.getEntityAt(0),y=0===l.getStartOffset();g||y?(d=f,v=c):d=(v=u.a.Modifier.splitBlock(c,f)).getSelectionAfter();var m=u.a.Modifier.setBlockType(v,d,r),_=m.createEntity(i||r,"IMMUTABLE",n({},o)),b=_.getLastCreatedEntityKey(),S=u.a.CharacterMetadata.create({entity:b}),E=[new u.a.ContentBlock({key:(0,u.a.genKey)(),type:r,text:a,characterList:(0,z.List)((0,z.Repeat)(S,a.length||1))}),new u.a.ContentBlock({key:(0,u.a.genKey)(),type:"unstyled",text:"",characterList:(0,z.List)()})],w=u.a.BlockMapBuilder.createFromArray(E);return u.a.Modifier.replaceWithFragment(m,d,w)}}));S(Je);var Xe=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r=t.getKeyAfter(e),o=t.getBlockForKey(r);n=o&&"unstyled"===o.getType()&&0===o.getLength()&&o===t.getBlockMap().last()?new u.a.SelectionState({anchorKey:e,anchorOffset:0,focusKey:r,focusOffset:0}):new u.a.SelectionState({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:1});var i=u.a.Modifier.setBlockType(t,n,"unstyled");return u.a.Modifier.removeRange(i,n,"backward")}}));S(Xe);var Ye=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DRAFTJS_BLOCK_KEY="DRAFTJS_BLOCK_KEY",e.DRAFTJS_BLOCK_TYPE="DRAFTJS_BLOCK_TYPE"}));S(Ye),Ye.DRAFTJS_BLOCK_KEY,Ye.DRAFTJS_BLOCK_TYPE;var Qe=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=o(Je),r=o(Xe);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,o,i){var a=i.getEditorState,s=i.setEditorState,l=a(),c=e.data.getData("text"),f=c?c.split(":"):[];if(2===f.length){if(f[0]===Ye.DRAFTJS_BLOCK_KEY){var p=f[1],h=l.getCurrentContent(),d=h.getBlockForKey(p),v=h.getEntity(d.getEntityAt(0)),g=(0,n.default)(l,t,d.getType(),v.data,v.type),y=(0,r.default)(g,p),m=new u.a.SelectionState({anchorKey:p,anchorOffset:0,focusKey:p,focusOffset:0}),_=u.a.EditorState.push(l,y,"move-block");s(u.a.EditorState.forceSelection(_,m))}return"handled"}}}));S(Qe);var Ze=E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=(n=o.a)&&n.__esModule?n:{default:n};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.default=function(t){var e=t.store;return function(t){var n,l;return l=n=function(n){function l(){var t,e,n;u(this,l);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n=s(this,(t=l.__proto__||Object.getPrototypeOf(l)).call.apply(t,[this].concat(o))),n.startDrag=function(t){t.dataTransfer.dropEffect="move",t.dataTransfer.setData("text",Ye.DRAFTJS_BLOCK_KEY+":"+n.props.block.key)},s(n,e)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,o.a.Component),i(l,[{key:"render",value:function(){var n=!e.getReadOnly||e.getReadOnly();return a.default.createElement(t,r({},this.props,{onDragStart:n?void 0:this.startDrag}))}}]),l}(),n.displayName="BlockDraggable("+function(t){var e=t.WrappedComponent||t;return e.displayName||e.name||"Component"}(t)+")",n.WrappedComponent=t.WrappedComponent||t,l}}}));S(Ze);var $e=S(E((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=o(Qe),r=o(Ze);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t={getReadOnly:void 0};return{initialize:function(e){var n=e.getReadOnly;t.getReadOnly=n},decorator:(0,r.default)({store:t}),handleDrop:n.default}}}))),tn=function(){return(tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function en(t,e,n,r,o){var i=new a.SelectionState({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:r+1}),u=a.Modifier.removeRange(e,i,"backward"),s=a.EditorState.push(t,u,"change-block-type");return s=a.EditorState.forceSelection(s,u.getSelectionAfter()),a.RichUtils.toggleBlockType(s,o)}var nn={allowNestedLists:!0,maxDepth:4,olRegex:/\d\./,ulChars:["-","\u2013","*"]},rn=[{command:i.i.TITLE,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"1"},{command:i.i.SUBTITLE,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"2"},{command:i.i.ALIGN_LEFT,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"l"},{command:i.i.ALIGN_RIGHT,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"r"},{command:i.i.ALIGN_CENTER,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"e"},{command:i.i.JUSTIFY,modifiers:[i.t.COMMAND],key:"j"},{command:i.i.NUMBERED_LIST,modifiers:[i.t.COMMAND],key:"m"},{command:i.i.BULLET_LIST,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"l"},{command:i.i.CODE,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"8"},{command:i.i.BLOCKQUOTE,modifiers:[i.t.COMMAND,i.t.SHIFT],key:"9"}],on=i.q.hasCommandModifier,an=i.q.usesMacOSHeuristics,un=i.q.isCtrlKeyCommand,sn=i.q.isOptionKeyCommand;function ln(t){return[].concat(on(t)?[i.t.COMMAND]:[],an(t)&&un(t)?[i.t.CTRL]:[],sn(t)?[i.t.OPTION]:[],t.shiftKey?[i.t.SHIFT]:[])}function cn(t,e){var n,r,o,a,u,s=t.getCurrentContent(),l=t.getSelection().getStartKey(),c=e?s.getBlockAfter(l):s.getBlockBefore(l),f=(e?s.getFirstBlock().key:s.getLastBlock().key)!==l?s.getBlockMap().delete(l):s.getBlockMap(),p=i.x.createEmpty(c.getKey()),h=s.merge({blockMap:f,selectionAfter:p});return h!==s?(n=c,r=i.l.encode(n.getKey(),0,0),o=document.querySelectorAll('[data-offset-key="'+r+'"]')[0],a=window.getSelection(),(u=document.createRange()).setStart(o,0),u.setEnd(o,0),a.removeAllRanges(),a.addRange(u),i.n.forceSelection(i.n.push(t,h,"remove-range"),p)):null}var fn=function(t,e,n){return function(r,o){var a;if(e[r])(function(t){return t===i.i.TAB||t===i.i.SHIFT_TAB})(r)&&function(t){return"ordered-list-item"===t||"unordered-list-item"===t}(n)?a=i.w.onTab(event,o,2):function(t){return i.C.some((function(e){return e===t}))}(n)?a=Object(i.X)(o,i.h.TAB):function(t){return"code-block"===t}(n)||(a=e[r](o));else switch(r){case i.i.ALIGN_RIGHT:case i.i.ALIGN_LEFT:case i.i.ALIGN_CENTER:case i.i.JUSTIFY:a=Object(i.ab)(o,{textAlignment:r});break;case i.i.TITLE:case i.i.SUBTITLE:case i.i.NUMBERED_LIST:case i.i.BULLET_LIST:case i.i.BLOCKQUOTE:case i.i.CODE:a=i.w.toggleBlockType(o,r);break;case i.i.BACKSPACE:a=function(t){var e=t.getSelection();if(Object(i.Y)(t))return Object(i.db)(t,e.getAnchorKey());if(!e.isCollapsed()||e.getAnchorOffset()||e.getFocusOffset())return null;var n=t.getCurrentContent(),r=e.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var a=cn(t,!1);if(a)return a}var u=i.w.tryToRemoveBlockStyle(t);return u?i.n.push(t,u,"change-block-type"):null}(o);break;case i.i.DELETE:a=function(t){var e=t.getSelection();if(Object(i.Y)(t))return Object(i.db)(t,e.getAnchorKey());if(!e.isCollapsed())return null;var n=t.getCurrentContent(),r=e.getStartKey(),o=n.getBlockForKey(r).getLength();if(e.getStartOffset()<o)return null;var a=n.getBlockAfter(r);return a&&"atomic"===a.getType()?cn(t,!0):null}(o);break;default:a=i.w.handleKeyCommand(o,r)}return a?(t(a),"handled"):"not-handled"}},pn={fontElementMap:"_2X1ls",pluginContainerReadOnly:"_1HLi3",pluginContainer:"_3NnBy",panelContainer:"_1E2rR",wrapper:"LG3cc",flex:"_1b9WG",absFull:"_3r7BO",visuallyHidden:"_3_54f",hasFocus:"_9yezB",overlay:"_3lmrY",hidden:"_1I01k",pluginContainerMobile:"_2WM_0",isImage:"sao9C",anchor:"p2mZq",infoIcon:"_3EZUP",infoContainer:"mwBaK",desktop:"_1LOTO",editor:"Tux6h",atomic:"_3Ecss",toolbar:"_1g9ew",block:"_3Bzge",elementSpacing:"_2hXa7",blockStyleSpacing:"j7VHc",text:"jwLWP _2hXa7",justify:"c1DFJ",quote:"pjZF7 j7VHc",headerOne:"_34qUI _2hXa7",headerTwo:"_6PM_v _2hXa7",headerThree:"_1pddf _2hXa7",indent:"_3Ktib _2hXa7",code:"_2b0WX j7VHc",codeBlock:"yFBFi j7VHc",transformed:"_20neQ"},hn=w(w({},pn),{left:"_1idAv",center:"_21OX4",right:"_3n_Yy"}),dn={blockquote:"quote","header-one":"headerOne","header-two":"headerTwo","header-three":"headerThree","header-four":"headerFour","header-five":"headerFive","header-six":"headerSix",indent:"indent",atomic:"atomic","code-block":"codeBlock","ordered-list-item":"orderedList","unordered-list-item":"unorderedList"},vn=function(t,e){return function(n){var r=n.toJS(),o=r.type,i=r.data,a=i.textAlignment,u=i.dynamicStyles,s=void 0===u?{}:u,l=dn[o]||"text",c=[hn[l],t[l]];"atomic"!==o&&c.push(hn[a],t[a]);var f=Object.entries(s).map(e);return d.a.apply(void 0,c.concat(f))}},gn=function(t,e){return t.offset===e.offset?e.length-t.length:t.offset-e.offset};o.a.createElement("p",null),o.a.createElement("p",null),o.a.createElement("h1",null),o.a.createElement("h2",null),o.a.createElement("h3",null),o.a.createElement("h4",null),o.a.createElement("h5",null),o.a.createElement("h6",null),o.a.createElement("blockquote",null),o.a.createElement("li",null),o.a.createElement("ul",null),o.a.createElement("li",null),o.a.createElement("ol",null),o.a.createElement("figure",null),o.a.createElement("figure",null);function yn(t){var e;return"undefined"!=typeof DOMParser&&null!==(e=(new DOMParser).parseFromString(t,"text/html"))&&null!==e.body||(e=function(t){var e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,e}(t)),e.body}var mn=new RegExp("\r","g"),_n=new RegExp("\n","g"),bn=new RegExp("&nbsp;","g"),Sn=new RegExp("\r","g"),En=["p","h1","h2","h3","h4","h5","h6","li","blockquote","pre"],wn={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},kn=function(t,e){return t&&!0===t.__isMiddleware?t(e):t},Tn=function(t,e,n){},On=function(t,e,n){return n},xn=function(t,e){},Cn=function(t){return[]},Mn=function(t){if(null!=t)return t;throw new Error("Got unexpected null or undefined")};function Bn(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j();return!0===n?{text:"\r",inlines:[R()],entities:new Array(1),blocks:[{type:t,data:r,depth:Math.max(0,Math.min(4,e))}],isNewline:!0}:{text:"\n",inlines:[R()],entities:new Array(1),blocks:[]}}function In(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j();return{text:"\r",inlines:[R()],entities:new Array(1),blocks:[{type:t,data:n,depth:Math.max(0,Math.min(4,e))}]}}function An(t,e){switch(t){case"h1":return"header-one";case"h2":return"header-two";case"h3":return"header-three";case"h4":return"header-four";case"h5":return"header-five";case"h6":return"header-six";case"li":return"ol"===e?"ordered-list-item":"unordered-list-item";case"blockquote":return"blockquote";case"pre":return"code-block";case"div":case"p":return"unstyled";default:return null}}function Dn(t,e,n){return An(t,n)}function Pn(t,e,n){var r=wn[t];if(r)n=n.add(r).toOrderedSet();else if(e instanceof HTMLElement){var o=e;n=n.withMutations((function(t){"bold"===o.style.fontWeight&&t.add("BOLD"),"italic"===o.style.fontStyle&&t.add("ITALIC"),"underline"===o.style.textDecoration&&t.add("UNDERLINE"),"line-through"===o.style.textDecoration&&t.add("STRIKETHROUGH")})).toOrderedSet()}return n}function zn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R();return Pn(t,e,n)}function Ln(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.text.slice(0,1),o=t.text.slice(-1),i="\r"===o&&"\r"===r,a="\r"!==t.text&&"\r"!==e.text,u="\r"===t.text&&!t.isNewline&&e.isNewline;if(i&&(a||u)&&(t.text=t.text.slice(0,-1),t.inlines.pop(),t.entities.pop(),t.blocks.pop()),"\r"===t.text.slice(-1)&&!0===n){if(" "===e.text||"\n"===e.text)return t;" "!==r&&"\n"!==r||(e.text=e.text.slice(1),e.inlines.shift(),e.entities.shift())}var s=0===t.text.length&&e.isNewline;return{text:t.text+e.text,inlines:t.inlines.concat(e.inlines),entities:t.entities.concat(e.entities),blocks:t.blocks.concat(e.blocks),isNewline:s}}function Rn(t,e,n,r,o,i,u,s,l,c,f,p){var h=function(t,e,n,r,o,i,a,u,s,l,c){var f=c(t=t.trim().replace(mn,"").replace(bn," "));if(!f)return null;var p=function(t){return En.some((function(e){return-1!==t.indexOf("<".concat(e))}))}(t)?En.concat(["div"]):["div"],h=function t(e,n,r,o,i,a,u,s,l,c,f,p,h,d,v,g){var y=e.nodeName.toLowerCase(),m=!1,_="unstyled";if("#text"===y){var b=e.textContent;if(""===b.trim()&&null===o)return{text:"",inlines:[],entities:[],blocks:[]};if(""===b.trim()&&"code-block"!==o)return function(t){var e=new Array(1);return t&&(e[0]=t),{text:" ",inlines:[R()],entities:e,blocks:[]}}(g);"code-block"!==o&&(b=b.replace(_n," "));var S=Array(b.length).fill(g),E=0;return l(b,f,p,h,d).sort(gn).forEach((function(t){var e=t.entity,n=t.offset,r=t.length,o=t.result,i=n+E;null==o&&(o=b.substr(i,r));var a=b.split("");a.splice.bind(a,i,r).apply(a,o.split("")),b=a.join(""),S.splice.bind(S,i,r).apply(S,Array(o.length).fill(e)),E+=o.length-r})),{text:b,inlines:Array(b.length).fill(n),entities:S,blocks:[]}}if("br"===y){var w=o;return null===w?Bn("unstyled",a,!0):Bn(w||"unstyled",a,v.flat)}var k={text:"",inlines:[],entities:[],blocks:[]};n=u(y,e,n=Pn(y,e,n)),"ul"!==y&&"ol"!==y||(r&&(a+=1),r=y,o=null);var T,O,x=c(y,e,r,o);if(!1===x)return{text:"",inlines:[],entities:[],blocks:[]};if("string"==typeof(x=x||{})?(T=x,O=j()):(T="string"==typeof x?x:x.type,O=x.data?j(x.data):j()),o||-1===i.indexOf(y)&&!T)if(!r||"ordered-list-item"!==o&&"unordered-list-item"!==o||"li"!==y)o&&"atomic"!==o&&"atomic"===T&&(o=T,m=!0,k=Bn(T,a,!0,O));else{var C=An(y,r);k=In(C,a),o=C,m=!0,_="ul"===r?"unordered-list-item":"ordered-list-item"}else k=In(T||An(y,r),a,O),o=T||An(y,r),m=!0;var M=e.firstChild;null!=M||!g||"atomic"!==T&&"atomic"!==o||(M=document.createTextNode("a")),null!=M&&(y=M.nodeName.toLowerCase());for(var B=null;M;){B=s(y,M,f,p,h,d),k=Ln(k,t(M,n,r,o,i,a,u,s,l,c,f,p,h,d,v,B||g),v.flat);var I=M.nextSibling;if(I&&i.indexOf(y)>=0&&o){var A=c(y,M,r,o),D=void 0,P=void 0;!1!==A&&("string"==typeof(A=A||{})?(D=A,P=j()):(D=A.type||An(y,r),P=A.data?j(A.data):j()),k=Ln(k,Bn(D,a,v.flat,P),v.flat))}I&&(y=I.nodeName.toLowerCase()),M=I}return m&&(k=Ln(k,In(_,a,j()),v.flat)),k}(f,R(),"ul",null,p,-1,e,n,r,o,i,a,u,s,l);return 0===h.text.indexOf("\r")&&(h={text:h.text.slice(1),inlines:h.inlines.slice(1),entities:h.entities.slice(1),blocks:h.blocks}),"\r"===h.text.slice(-1)&&(h.text=h.text.slice(0,-1),h.inlines=h.inlines.slice(0,-1),h.entities=h.entities.slice(0,-1),h.blocks.pop()),0===h.blocks.length&&h.blocks.push({type:"unstyled",data:j(),depth:0}),h.text.split("\r").length===h.blocks.length+1&&h.blocks.unshift({type:"unstyled",data:j(),depth:0}),h}(t,e,n,r,o,i,u,s,l,c,f);if(null==h)return[];var d=0;return h.text.split("\r").map((function(t,e){t=t.replace(Sn,"");var n=d+t.length,r=Mn(h).inlines.slice(d,n),o=Mn(h).entities.slice(d,n),i=L(r.map((function(t,e){var n={style:t,entity:null};return o[e]&&(n.entity=o[e]),a.CharacterMetadata.create(n)})));return d=n+1,new a.ContentBlock({key:p(),type:Mn(h).blocks[e].type,data:Mn(h).blocks[e].data,depth:Mn(h).blocks[e].depth,text:t,characterList:i})}))}var jn,Kn=function(t){var e=t.htmlToStyle,n=void 0===e?On:e,r=t.htmlToEntity,o=void 0===r?xn:r,i=t.textToEntity,u=void 0===i?Cn:i,s=t.htmlToBlock,l=void 0===s?Tn:s;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{flat:!1},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yn,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.genKey,s=a.ContentState.createFromText(""),c=function(){var t;return s.createEntity?(s=(t=s).createEntity.apply(t,arguments)).getLastCreatedEntityKey():a.Entity.create.apply(a.Entity,arguments)},f=function(){var t;return s.getEntity?(t=s).getEntity.apply(t,arguments):a.Entity.get.apply(a.Entity,arguments)},p=function(){var t;s.mergeEntityData?s=(t=s).mergeEntityData.apply(t,arguments):a.Entity.mergeData.apply(a.Entity,arguments)},h=function(){var t;s.replaceEntityData?s=(t=s).replaceEntityData.apply(t,arguments):a.Entity.replaceData.apply(a.Entity,arguments)},d=Rn(t,kn(n,zn),kn(o,xn),kn(u,Cn),kn(l,Dn),c,f,p,h,e,r,i),v=a.BlockMapBuilder.createFromArray(d),g=d[0].getKey();return s.merge({blockMap:v,selectionBefore:a.SelectionState.createEmpty(g),selectionAfter:a.SelectionState.createEmpty(g)})}},Fn=function(t){var e=t.indexOf(",")>-1?",":" ",n=t.substr(4).split(")")[0].split(e),r=Number(n[0]).toString(16),o=Number(n[1]).toString(16),i=Number(n[2]).toString(16);return 1===r.length&&(r="0"+r),1===o.length&&(o="0"+o),1===i.length&&(i="0"+i),"#"+r+o+i},Hn={htmlToStyle:function(t,e,n){if("span"===t){var r=[];return e.style.color&&r.push('{"FG":"'+Fn(e.style.color)+'"}'),e.style.backgroundColor&&r.push('{"BG":"'+Fn(e.style.backgroundColor)+'"}'),e.style.fontWeight>500&&r.push("BOLD"),R.of.apply(R,r).merge(n)}return R.of.apply(R,[]).merge(n)},htmlToEntity:function(t,e,n){return"a"===t?n("LINK","MUTABLE",{url:e.href,target:"_blank",rel:"noopener"}):null}},Nn=["CODE"],qn=function(t){function e(e){var n;(n=t.call(this,e)||this).onChangedFocusedBlock=function(t){var e=n.props.onAtomicBlockFocus;if(e){if(t){var r=Object(i.O)(n.getEditorState(),t);e({blockKey:t,type:r.type,data:r.entityData})}e({})}},n.getEditorState=function(){return n.state.editorState},n.setEditorState=function(t){return n.setState({editorState:t})},n.initContext=function(){var t=n.props,e=t.theme,r=t.t,o=t.locale,i=t.anchorTarget,a=t.relValue,u=t.helpers,s=void 0===u?{}:u,l=t.config,c=t.toolbarsConfig,p=void 0===c?{}:c,h=t.isMobile,d=void 0!==h&&h,v=t.shouldRenderOptimizedImages,g=t.initialIntent,y=t.siteDomain,m=p.addPluginMenuConfig;n.fixFileHandlersName(s),n.contextualData={theme:e||{},t:r,locale:o,anchorTarget:i,relValue:a,helpers:w(w({},s),{},{onPluginAdd:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null===(t=s.onPluginAdd)||void 0===t?void 0:t.call.apply(t,[s].concat(n,[f.Version.currentVersion]))}}),config:w(w({},l),{},{getToolbarSettings:function(){return[{name:"SIDE",addPluginMenuConfig:m},{name:"MOBILE",addPluginMenuConfig:m}]}}),isMobile:d,setEditorState:n.setEditorState,getEditorState:n.getEditorState,getEditorBounds:n.getEditorBounds,languageDir:Object(f.getLangDir)(o),shouldRenderOptimizedImages:v,initialIntent:g,siteDomain:y,setInPluginEditingMode:n.setInPluginEditingMode,getInPluginEditingMode:n.getInPluginEditingMode}},n.getEditorBounds=function(){return n.state.editorBounds},n.getToolbars=function(){return{MobileToolbar:n.toolbars[i.D.MOBILE]?n.toolbars[i.D.MOBILE].Toolbar:null,TextToolbar:"static"===n.props.textToolbarType?n.toolbars[i.D.STATIC].Toolbar:null}},n.updateEditorState=function(t){var e,r,o,i=null===(e=n.props.helpers)||void 0===e?void 0:e.onPluginDelete;i&&n.calculateDiff(t,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(void 0,e.concat([f.Version.currentVersion]))})),n.setEditorState(t),null===(r=(o=n.props).onChange)||void 0===r||r.call(o,t)},n.handlePastedText=function(t,e,r){var o=n.props.handlePastedText;if(o)return o(t,e,r);if(e){var a=function(){return arguments.length>=1&&"string"==typeof(arguments.length<=0?void 0:arguments[0])?Kn({}).apply(void 0,arguments):Kn.apply(void 0,arguments)}(Hn)(e),u=i.u.replaceWithFragment(r.getCurrentContent(),r.getSelection(),a.getBlockMap()),l=i.n.push(r,u,"insert-fragment"),c=function(t){var e=function(t){var e=t.getBlockMap().first(),n=t.getBlockMap().last(),r=e.getKey(),o=n.getKey(),a=n.getLength();return new i.x({anchorKey:r,anchorOffset:0,focusKey:o,focusOffset:a})}(t);return Object(s.reduce)(Nn,(function(t,n){return i.u.removeInlineStyle(t,e,n)}),t)}(u),f=i.n.set(l,{currentContent:c,selection:l.getSelection()});return n.updateEditorState(f),"handled"}return!1},n.handleTabCommand=function(){if(n.getToolbars().TextToolbar){var t=n.findFocusableChildForElement(""+oe(n.refId));t&&t.focus()}else n.editor.blur()},n.getCustomCommandHandlers=function(){return{commands:[].concat(n.pluginKeyBindings.commands,[{command:i.i.TAB,modifiers:[],key:"Tab"},{command:i.i.SHIFT_TAB,modifiers:[i.t.SHIFT],key:"Tab"}]),commandHanders:w(w({},n.pluginKeyBindings.commandHandlers),{},{tab:n.handleTabCommand,shiftTab:n.handleTabCommand})}},n.focus=function(){return setTimeout(n.editor.focus)},n.blur=function(){return n.editor.blur()},n.publish=function(){var t=A(B.mark((function t(e){var r,o,a,u;return B.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=n.props.helpers)||void 0===r?void 0:r.onPublish){t.next=2;break}return t.abrupt("return");case 2:o=Object(i.T)(n.state.editorState),a=o.pluginsCount,u=o.pluginsDetails,n.props.helpers.onPublish(e,a,u,f.Version.currentVersion);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.setEditor=function(t){return n.editor=Object(s.get)(t,"editor",t)},n.inPluginEditingMode=!1,n.setInPluginEditingMode=function(t){var e=t?"render":"edit";n.editor.setMode(e),n.inPluginEditingMode=t},n.getInPluginEditingMode=function(){return n.inPluginEditingMode},n.renderToolbars=function(){var t=["MobileToolbar","StaticTextToolbar","static"===n.props.textToolbarType?"InlineTextToolbar":""];return n.plugins.map((function(e,n){var r=e.Toolbar||e.InlinePluginToolbar||e.InlineToolbar||e.SideToolbar;if(r)return Object(s.includes)(t,e.name)?null:o.a.createElement(r,{key:"k"+n})}))},n.renderInlineModals=function(){return n.plugins.map((function(t,e){if(t.InlineModals&&t.InlineModals.length>0)return t.InlineModals.map((function(t,n){return o.a.createElement(t,{key:"k"+e+"m"+n})}))}))},n.renderEditor=function(){var t,e,r,a=n.props,u=a.helpers,l=a.editorKey,c=a.tabIndex,f=a.placeholder,p=a.spellCheck,h=a.stripPastedStyles,d=a.autoCapitalize,v=a.autoComplete,g=a.autoCorrect,y=a.ariaActiveDescendantID,m=a.ariaAutoComplete,_=a.ariaControls,b=a.ariaDescribedBy,S=a.ariaExpanded,E=a.ariaLabel,w=a.ariaMultiline,k=a.onBlur,T=a.onFocus,O=a.textAlignment,x=a.handleBeforeInput,C=a.handleReturn,M=n.state.editorState,B=n.contextualData.theme;return o.a.createElement(J,{ref:n.setEditor,handleReturn:C?C(n.updateEditorState):(t=n.updateEditorState,function(e,n){if(i.q.isSoftNewlineEvent(e)){var r=i.w.insertSoftNewline(n);return t(r),"handled"}var o=Object(i.N)(n).dynamicStyles;if(o){var a=function(t,e){var n=i.u.splitBlock(t.getCurrentContent(),t.getSelection()),r=i.u.mergeBlockData(n,n.getSelectionAfter(),{dynamicStyles:e});return i.n.push(t,r,"split-block")}(n,o);return t(a),"handled"}return"not-handled"}),editorState:M,onChange:n.updateEditorState,handleBeforeInput:x,handlePastedText:n.handlePastedText,plugins:n.plugins,blockStyleFn:vn(B,n.styleToClass),handleKeyCommand:fn(n.updateEditorState,n.getCustomCommandHandlers().commandHanders,Object(i.P)(M)),editorKey:l,keyBindingFn:(e=n.getCustomCommandHandlers().commands||[],r=[].concat(rn,e),function(t){return function(t,e){var n=e.filter((function(e){return e.key===t.key&&Object(s.isEqual)(e.modifiers,t.modifiers)})).map((function(t){return t.command}));return n.length>0?n[0]:void 0}({modifiers:ln(t),key:t.key},r)}),customStyleFn:n.customStyleFn,helpers:u,tabIndex:c,placeholder:f||"",spellCheck:p,stripPastedStyles:h,autoCapitalize:d,autoComplete:v,autoCorrect:g,ariaActiveDescendantID:y,ariaAutoComplete:m,ariaControls:_,ariaDescribedBy:b,ariaExpanded:S,ariaLabel:E,ariaMultiline:w,onBlur:k,onFocus:T,textAlignment:O})},n.renderAccessibilityListener=function(){return o.a.createElement(f.AccessibilityListener,{isMobile:n.contextualData.isMobile})},n.renderTooltipHost=function(){return o.a.createElement(i.H,{theme:n.contextualData.theme})},n.styleToClass=function(t){return"rich_content_"+t[0]+"-"+t[1].toString().replace(".","_")},n.renderStyleTag=function(){var t=n.getEditorState().getCurrentContent().getBlockMap(),e={};t.forEach((function(t){var r=t.get("data").toJS().dynamicStyles,o=void 0===r?{}:r;Object.entries(o).forEach((function(t){return e[n.styleToClass(t)]=(r=t)[0]+": "+r[1]+";";var r}))}));var r=Object.entries(e).reduce((function(t,e){return t+"[dir] ."+e[0]+" {"+e[1]+"}"}),"");return o.a.createElement("style",{id:"dynamicStyles"},r)},n.onResize=Object(s.debounce)((function(t){var e=t.bounds;return n.updateBounds(e)}),100),n.state={editorState:n.getInitialEditorState(),editorBounds:{}},n.refId=Math.floor(9999*Math.random());var r=e.config.uiSettings,a=void 0===r?{}:r;return a.blankTargetToggleVisibilityFn=a.blankTargetToggleVisibilityFn||function(t){return"_blank"!==t},a.nofollowRelToggleVisibilityFn=a.nofollowRelToggleVisibilityFn||function(t){return"nofollow"!==t},n.calculateDiff=Object(i.L)(n.state.editorState),n.initContext(),n.initPlugins(),n}k(e,t),e.getDerivedStateFromError=function(t){return{error:t}};var n=e.prototype;return n.componentDidUpdate=function(){this.handleBlockFocus(this.state.editorState)},n.handleBlockFocus=function(t){var e=Object(i.Q)(t);e!==this.focusedBlockKey&&(this.focusedBlockKey=e,this.onChangedFocusedBlock(e))},n.initPlugins=function(){var t,e=this.props,n=e.plugins,r=e.customStyleFn,o=function(t){var e,n,r=t.plugins,o=t.context,u=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=je(),o=n.theme?n.theme:Ne;return{handleReturn:function(t,e,n){var o=n.setEditorState;return qe(e,r)?(o(xe(e)),"handled"):"not-handled"},handleKeyCommand:function(t,e,n,o){var i=o.setEditorState;if(Ve.includes(t)&&qe(e,r)){var a=e.getSelection().getStartKey(),u=He(e,a);if(u!==e)return i(u),"handled"}return"not-handled"},onChange:function(n){var o=n.getCurrentContent();if(!o.equals(e))return t=n.getSelection(),e=o,n;e=o;var i=n.getSelection();if(t&&i.equals(t))return t=n.getSelection(),n;var u=r.getAll();return t&&Ke(o,t.getStartKey(),t.getEndKey()).some((function(t){return u.includes(t)}))||Ke(o,i.getStartKey(),i.getEndKey()).some((function(t){return u.includes(t)}))?(t=i,a.EditorState.forceSelection(n,n.getSelection())):n},keyBindingFn:function(t,e){var n=e.getEditorState,o=e.setEditorState,i=n();if(qe(i,r)&&(37===t.keyCode&&Ce(n,o,"up",t),39===t.keyCode&&Ce(n,o,"down",t),38===t.keyCode&&Ce(n,o,"up",event),40===t.keyCode))Ce(n,o,"down",event);else if(!t.shiftKey){if(37===t.keyCode){var a=i.getSelection(),u=a.getAnchorKey(),s=i.getCurrentContent().getBlockBefore(u);s&&0===a.getAnchorOffset()&&r.includes(s.getKey())&&Ce(n,o,"up",t)}if(39===t.keyCode){var l=i.getSelection(),c=l.getFocusKey(),f=i.getCurrentContent().getBlockForKey(c),p=i.getCurrentContent().getBlockAfter(c),h="atomic"!==f.getType()&&f.getLength()===l.getFocusOffset();p&&h&&r.includes(p.getKey())&&Ce(n,o,"down",t)}if(38===t.keyCode){var d=i.getSelection().getAnchorKey(),v=i.getCurrentContent().getBlockBefore(d);v&&r.includes(v.getKey())&&Ce(n,o,"up",event)}if(40===t.keyCode){var g=i.getSelection().getAnchorKey(),y=i.getCurrentContent().getBlockAfter(g);y&&r.includes(y.getKey())&&Ce(n,o,"down",event)}}},blockRendererFn:function(t,e){var n=e.getEditorState,r=e.setEditorState;if("atomic"===t.getType()){var o=n();return{props:{isFocused:Fe(o,t.getKey()),isCollapsedSelection:o.getSelection().isCollapsed(),setFocusToBlock:function(){Me(n,r,t)}}}}},decorator:Re({theme:o,blockKeyStore:r})}}(),s=(e={horizontal:"absolute",minWidth:350,theme:o.theme,isMobile:o.isMobile},{initialize:function(t){var e=t.getEditorRef,r=t.getEditorState,o=t.setEditorState;n.getEditorRef=e,n.getEditorState=r,n.setEditorState=o},decorator:Ge({config:e,store:n={getEditorRef:void 0,getEditorState:void 0,setEditorState:void 0}})}),l=function(t){var e=tn(tn({},nn),{olRegex:/1\./,allowNestedLists:!1}),n=e.allowNestedLists,r=e.maxDepth,o=e.olRegex,i=e.ulChars;if(r<1)throw Error("maxDepth cannot be "+r+" (must be a positive integer)");i.forEach((function(t){if(1!==t.length)throw Error('ulChar "'+t+'" must be exactly one character long')}));var u={handleBeforeInput:function(t,e,n,r){var a=r.setEditorState;if(" "===t){var u=e.getCurrentContent(),s=e.getSelection(),l=s.getStartKey(),c=u.getBlockForKey(l);if("unstyled"!==c.getType())return"not-handled";var f=s.getStartOffset(),p=c.getText()+" ",h=p.indexOf(" ");if(f===h){if(function(t,e){return e.includes(t[0])}(p,i))return a(en(e,u,l,h,"unordered-list-item")),"handled";if(function(t,e){return e.test(t)}(p,o))return a(en(e,u,l,h,"ordered-list-item")),"handled"}}return"not-handled"}};return n&&(u.keyBindingFn=function(t,e){var n=e.getEditorState,o=e.setEditorState;if("Tab"===t.key){var i=n();o(a.RichUtils.onTab(t,i,r))}return Object(a.getDefaultKeyBinding)(t)}),u}(),c=$e(),f=c.handleDrop;c.handleDrop=function(t){return function(e,n,r,o){var i=o.getEditorState,a=o.setEditorState,u=i().getCurrentContent().getFirstBlock().key;if(e.anchorKey!==u||0!==e.anchorOffset)return t(e,n,r,{getEditorState:i,setEditorState:a})}}(f);var p=X(c.decorator,s.decorator,u.decorator),h=w(w({decorator:p,commonPubsub:Object(i.gb)(),pluginDefaults:{}},o),o.config),d=(r||[]).map((function(t){return t(h)})),v=[],g=[],y=[];return d.forEach((function(t){v=[].concat(v,t.InsertPluginButtons||[]),g=[].concat(g,t.TextButtonMapper?[t.TextButtonMapper(t.pubsub)]:[]),y=[].concat(y,t.customStyleFn?[t.customStyleFn]:[])})),{pluginInstances:[s,u,c,l].concat(d),pluginButtons:v,pluginTextButtons:g,pluginStyleFns:y}}({plugins:n,context:this.contextualData}),u=o.pluginInstances,s=o.pluginButtons,l=o.pluginTextButtons,c=o.pluginStyleFns;this.initEditorToolbars(s,l),this.pluginKeyBindings=function(t){return t.reduce((function(t,e,n){if(e){var r=Object.keys(e).reduce((function(t,r){if(e[r].keyBindings&&e[r].keyBindings.length>0){var o=e[r].keyBindings.map((function(t){return w(w({},t.keyCommand),{},{command:t.keyCommand.command+"_"+n})})),i={};return e[r].keyBindings.forEach((function(t){i[t.keyCommand.command+"_"+n]=t.commandHandler})),{commands:[].concat(t.commands,o),commandHandlers:w(w({},t.commandHandlers),i)}}return t}),{commands:[],commandHandlers:{}});return{commands:[].concat(t.commands,r.commands),commandHandlers:w(w({},t.commandHandlers),r.commandHandlers)}}return t}),{commands:[],commandHandlers:{}})}(l),this.plugins=[].concat(u,Object.values(this.toolbars)),this.customStyleFn=(t=[].concat(c,[r]),function(e,n){return t.reduce((function(t,r){return void 0===r&&(r=function(){return{}}),w(w({},t),r(e,n))}),{})})},n.initEditorToolbars=function(t,e){var n=this.props.textAlignment,r={pluginButtons:t,pluginTextButtons:e};this.toolbars=function(t){var e=t.buttons,n=t.textAlignment,r=t.refId,o=t.context,a=o.config,u=a.uiSettings,l=void 0===u?{}:u,c=a.getToolbarSettings,f=void 0===c?function(){return[]}:c,p=e.pluginButtons,h=e.pluginTextButtons,d=o.isMobile,v=o.theme,g=void 0===v?{}:v,y=Object(i.gb)(),m={mobile:re(Yt,$t(h,(function(t){return!1!==t.isMobile})),"mobile"),desktop:re(Xt,$t(h),"desktop")},_={mobile:Zt(h,(function(t){return!1!==t.isMobile})),desktop:Zt(h)},b=function(t){var e=t.pluginButtons,n=t.textButtons,r=t.pluginTextButtons;return[{name:i.D.SIDE,shouldCreate:function(){var t=e.filter((function(t){return t.buttonSettings.toolbars.includes(i.D.SIDE)})).length>0;return{desktop:t,mobile:{ios:t,android:t}}},getPositionOffset:function(){return{desktop:{x:-40,y:0},mobile:{ios:{x:0,y:0},android:{x:0,y:0}}}},getDisplayOptions:function(){return Se},getToolbarDecorationFn:function(){return Ee},getButtons:function(){var t=e.filter((function(t){return t.buttonSettings.toolbars.includes(i.D.SIDE)})).map((function(t){var e=t.component,n=t.buttonSettings;return{component:e,name:n.name,section:n.section||"BlockToolbar_Section_Basic"}}));return{desktop:t,mobile:{ios:t,android:t}}},getTextPluginButtons:function(){return ke},getVisibilityFn:function(){return{desktop:be,mobile:{ios:be,android:be}}},getInstance:wt},{name:i.D.MOBILE,shouldCreate:function(){return{desktop:!1,mobile:{ios:!0,android:!0}}},getPositionOffset:function(){return we},getDisplayOptions:function(){return Se},getToolbarDecorationFn:function(){return Ee},getButtons:function(){return{desktop:[],mobile:{ios:n.mobile,android:n.mobile}}},getTextPluginButtons:function(){return{desktop:{},mobile:{ios:r.mobile,android:r.mobile}}},getVisibilityFn:function(){return{desktop:function(){return!1},mobile:{ios:function(){return!0},android:function(){return!0}}}},getInstance:ce},{name:i.D.FOOTER,shouldCreate:function(){return{desktop:e.filter((function(t){return t.buttonSettings.toolbars.includes(i.D.FOOTER)})).length>0,mobile:{ios:!1,android:!1}}},getPositionOffset:function(){return we},getDisplayOptions:function(){return Se},getToolbarDecorationFn:function(){return Ee},getButtons:function(){return{desktop:e.filter((function(t){return t.buttonSettings.toolbars.includes(i.D.FOOTER)})).map((function(t){return t.component})),mobile:{ios:[],android:[]}}},getTextPluginButtons:function(){return ke},getVisibilityFn:function(){return{desktop:function(){return!0},mobile:{ios:function(){return!1},android:function(){return!1}}}},getInstance:de},{name:i.D.STATIC,shouldCreate:function(){return{desktop:!0,mobile:{ios:!0,android:!1}}},getPositionOffset:function(){return we},getDisplayOptions:function(){return Se},getToolbarDecorationFn:function(){return Ee},getButtons:function(){return{desktop:n.desktop,mobile:{ios:[],android:[]}}},getTextPluginButtons:function(){return{desktop:r.desktop,mobile:{ios:{},android:{}}}},getVisibilityFn:function(){return{desktop:function(){return!0},mobile:{ios:function(){return!0},android:function(){return!1}}}},getInstance:ae},{name:i.D.INLINE,shouldCreate:function(){return{desktop:!0,mobile:{ios:!1,android:!1}}},getPositionOffset:function(){return we},getDisplayOptions:function(){return Se},getToolbarDecorationFn:function(){return Ee},getButtons:function(){return{desktop:n.desktop,mobile:{ios:n.mobile,android:[]}}},getTextPluginButtons:function(){return{desktop:r.desktop,mobile:{ios:r.mobile,android:{}}}},getVisibilityFn:function(){return{desktop:_e,mobile:{ios:_e,android:_e}}},getInstance:me}]}({pluginButtons:p,textButtons:m,pluginTextButtons:_}),S=f({pluginButtons:p,textButtons:m,pluginTextButtons:_}),E=Object(i.bb)({defaultSettings:b,customSettings:S}),k={},T=d?Object(i.Z)()?"mobile.ios":"mobile.android":"desktop";return E.filter((function(t){return t.name!==i.D.PLUGIN})).filter((function(t){var e=t.shouldCreate;return Object(s.get)(e(),T,!0)})).forEach((function(t){var e=t.name,a=t.getButtons,u=t.getTextPluginButtons,c=t.getPositionOffset,f=t.getVisibilityFn,h=t.getInstance,d=t.getDisplayOptions,v=t.getToolbarDecorationFn,m=t.addPluginMenuConfig;k[e]=h(w(w({},o),{},{displayOptions:Object(s.get)(d(),T,{displayMode:i.k.NORMAL}),toolbarDecorationFn:Object(s.get)(v(),T,(function(){return null})),textPluginButtons:Object(s.get)(u(),T,[]),offset:Object(s.get)(c(),T,{x:0,y:0}),visibilityFn:Object(s.get)(f(),T,(function(){return!0})),buttons:Object(s.get)(a(),T,[]),theme:w(w({},Object(i.V)(g,e.toLowerCase())),g),defaultTextAlignment:n,pluginButtons:p,uiSettings:l,pubsub:y,refId:r,addPluginMenuConfig:m}))})),k}({buttons:r,textAlignment:n,refId:this.refId,context:this.contextualData})},n.getInitialEditorState=function(){var t=this.props,e=t.editorState,n=t.initialState,r=t.anchorTarget,o=t.relValue;if(e)return e;if(n){var a=Object(f.normalizeInitialState)(n,{anchorTarget:r,relValue:o});return i.n.createWithContent(Object(i.I)(a))}var u=Object(i.I)({entityMap:{},blocks:[{text:"",key:"foo",type:"unstyled",entityRanges:[]}]});return i.n.createWithContent(u)},n.componentWillReceiveProps=function(t){this.props.editorState!==t.editorState&&this.setState({editorState:t.editorState}),this.props.theme!==t.theme&&this.setState({theme:t.theme}),this.props.textToolbarType!==t.textToolbarType&&this.setState({textToolbarType:t.textToolbarType}),this.fixFileHandlersName(t.helpers)},n.fixFileHandlersName=function(t){(null==t?void 0:t.onFilesChange)&&(t.handleFileUpload=t.onFilesChange,delete t.onFilesChange)},n.findFocusableChildForElement=function(t){var e=document.getElementById(t);return e&&e.querySelector('*[tabindex="0"]')},n.componentWillUnmount=function(){this.updateBounds=function(){return""}},n.componentWillMount=function(){var t=this;this.updateBounds=function(e){t.setState({editorBounds:e})}},n.render=function(){var t=this,e=this.props.onError;try{var n;if(this.state.error)return e(this.state.error),null;var r=this.props.isMobile,i=this.contextualData.theme,a=d()("QiJxn",pn.wrapper,i.wrapper,((n={})[pn.desktop]=!r,n[i.desktop]=!r&&i&&i.desktop,n));return o.a.createElement(y.a,{bounds:!0,onResize:this.onResize},(function(e){var n=e.measureRef;return o.a.createElement("div",{style:t.props.style,ref:n,className:a,dir:Object(f.getLangDir)(t.props.locale)},t.renderStyleTag(),o.a.createElement("div",{className:d()(pn.editor,i.editor)},t.renderAccessibilityListener(),t.renderEditor(),t.renderToolbars(),t.renderInlineModals(),t.renderTooltipHost()))}))}catch(u){return e(u),null}},e}(r.Component);qn.publish=(jn=A(B.mark((function t(e,n,r){var o;return B.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n={}),void 0===r&&(r=function(){return!0}),o=Object(i.T)(n),r(w({postId:e},o));case 4:case"end":return t.stop()}}),t)}))),function(t,e,n){return jn.apply(this,arguments)}),qn.defaultProps={config:{},spellCheck:!0,customStyleFn:function(){return{}},locale:"en",onError:function(t){throw t}};var Vn,Un=Object(f.withI18n)(qn,p),Wn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).setEditorRef=function(t){return e.editor=t?t.getWrappedInstance():void 0},e.getToolbars=function(){return e.editor.getToolbars()},e.focus=function(){return e.editor.focus()},e.blur=function(){return e.editor.blur()},e.publish=function(t){return e.editor.publish(t)},e}return k(e,t),e.prototype.render=function(){return o.a.createElement(Un,w({},this.props,{ref:this.setEditorRef}))},e}(r.Component),Gn=function(t){function e(){return t.apply(this,arguments)||this}return k(e,t),e.prototype.render=function(){var t=this.props,e=t.url,n=t.targetBlank,r=t.anchorTarget,a=t.relValue,u=t.nofollow,s=t.theme,l=t.isMobile,c=t.isActive,f=t.onDone,p=t.onCancel,h=t.onDelete,d=t.t,v=t.uiSettings,g=t.unchangedUrl,y=d("MobileLinkModal_Title");return o.a.createElement("div",null,o.a.createElement("div",{className:"_2LnmZ"},o.a.createElement("div",{className:"_3W9TN"},o.a.createElement(nt,null)),o.a.createElement("h3",{id:"mob_link_modal_hdr",className:"_3ZL4g"},y)),o.a.createElement(i.r,{url:e,targetBlank:n,anchorTarget:r,relValue:a,nofollow:u,theme:s,isActive:c,isMobile:l,onDone:f,onCancel:p,hidePanel:p,onDelete:h,t:d,ariaProps:{"aria-labelledby":"mob_link_modal_hdr"},uiSettings:v,unchangedUrl:g}))},e}(r.Component),Jn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).hidePopup=function(){return e.props.hidePopup()},e.wrapBlockInLink=function(t){var n=t.url,r=t.targetBlank,o=t.nofollow,i=e.props,a=i.pubsub,u=i.anchorTarget,l=i.relValue,c="_blank",f="nofollow";r||(c="_blank"!==u?u:"_self"),o||(f="nofollow"!==l?l:"noopener"),Object(s.isEmpty)(n)?a.setBlockData({key:"componentLink",item:null}):a.setBlockData({key:"componentLink",item:{url:n,target:c,rel:f}}),e.hidePopup()},e.deleteLink=function(){e.props.pubsub.setBlockData({key:"componentLink",item:null})},e}return k(e,t),e.prototype.render=function(){var t=this.props,e=t.pubsub,n=t.theme,r=t.isMobile,i=t.anchorTarget,a=t.relValue,u=t.t,s=t.uiSettings,l=t.unchangedUrl,c=e.getBlockData({key:"componentLink"}),f=c||{},p=f.url,h=f.target,d=f.rel,v=h?"_blank"===h:"_blank"===i,g=d?"nofollow"===d:"nofollow"===a;return o.a.createElement(Gn,{url:p,targetBlank:v,nofollow:g,theme:n,isActive:!!c,isMobile:r,anchorTarget:i,relValue:a,onDone:this.wrapBlockInLink,onCancel:this.hidePopup,onDelete:this.deleteLink,uiSettings:s,t:u,unchangedUrl:l})},e}(r.Component),Xn=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).hidePopup=function(){(0,e.props.hidePopup)()},e.onCancel=function(){var t=e.props,n=t.getEditorState,r=t.setEditorState,o=n();r(Object(i.eb)(o,o.getSelection())),e.hidePopup()},e.createLinkEntity=function(t){var n=t.url,r=t.targetBlank,o=t.nofollow;if(!Object(s.isEmpty)(n)){var i=e.props,a=i.getEditorState,u=i.setEditorState,l=i.anchorTarget,c=i.relValue;u((0,i.insertLinkFn)(a(),{url:n,targetBlank:r,nofollow:o,anchorTarget:l,relValue:c}))}e.hidePopup()},e.deleteLink=function(){var t=e.props,n=t.getEditorState,r=t.setEditorState,o=t.closeInlinePluginToolbar,a=n();r(Object(i.cb)(a,r)),o()},e}return k(e,t),e.prototype.render=function(){var t=this.props,e=t.getEditorState,n=t.theme,r=t.isMobile,a=t.anchorTarget,u=t.relValue,l=t.t,c=t.uiSettings,f=Object(i.R)(e()),p=f||{},h=p.url,d=p.target,v=p.rel,g=d?"_blank"===d:"_blank"===a,y=v?"nofollow"===v:"nofollow"===u;return o.a.createElement(Gn,{url:h,targetBlank:g,nofollow:y,theme:n,isActive:!Object(s.isEmpty)(f),isMobile:r,anchorTarget:a,relValue:u,onDone:this.createLinkEntity,onCancel:this.onCancel,onDelete:this.deleteLink,uiSettings:c,t:l})},e}(r.Component),Yn=((Vn={})[i.m.MOBILE_ADD_PLUGIN]=bt,Vn[i.m.MOBILE_BLOCK_LINK_MODAL]=Jn,Vn[i.m.MOBILE_TEXT_LINK_MODAL]=Xn,Vn),Qn=function(t){var e=t.modalName,n=t.modalElement,r=t.modalsMap,a=Y(t,["modalName","modalElement","modalsMap"]),u=w(w({},Yn),r)[e]||n;return u?o.a.createElement(i.v,w({modalElement:u},a)):(console.error("Attempted to open unknown external modal '"+e+"'"),null)},Zn=function(t,e){return t.VERSION=e,t},$n=function(t){return Zn(((e=Object(a.convertToRaw)(t)).blocks.forEach((function(t){return Object.keys(t.data).forEach((function(e){var n=t.data[e];n.toObject&&(t.data[e]=n.toObject())}))})),e),"7.5.0");var e},tr=function(t){return Zn(Object(a.convertFromRaw)(t),t.VERSION)},er=function(){return Zn(a.EditorState.createEmpty(),"7.5.0")},nr=function(t){return Zn(a.EditorState.createWithContent(t),t.VERSION)}}}]);